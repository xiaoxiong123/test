function Log(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];if($data.isLogEnabled&&!$data.isProductionEnvironment)switch(e){case"View":$data.isCoreLogEnabled&&(a=console.log).call.apply(a,[null,"%c [VIEW] ","background: #4436ff; color: #fff"].concat(r));break;case"Data":$data.isCoreLogEnabled&&(n=console.log).call.apply(n,[null,"%c [DATA] ","background: #f33; color: #fff"].concat(r));break;case"Event":$data.isCoreLogEnabled&&(i=console.log).call.apply(i,[null,"%c [EVENT] ","background: #6fa; color: #000"].concat(r));break;case"API":$data.isAPILogEnabled&&(o=console.log).call.apply(o,[null,"%c [API] ","background: #ff6eec; color: #fff"].concat(r));break;case"Ajax":$data.isAPILogEnabled&&(s=console.log).call.apply(s,[null,"%c [AJAX] ","background: #ff983c; color: #fff"].concat(r));break;case"Socket":$data.isAPILogEnabled&&(d=console.log).call.apply(d,[null,"%c [S] ","background: #ba8cff; color: #fff"].concat(r));break;case"Wechat":$data.isAPILogEnabled&&(c=console.log).call.apply(c,[null,"%c [WX] ","background: #40b0ff; color: #fff"].concat(r));break;case"Phase":$data.isUtilsLogEnabled&&(u=console.log).call.apply(u,[null,"%c [P] ","background: #b6ff93; color: #000"].concat(r));break;case"Audio":$data.isUtilsLogEnabled&&(h=console.log).call.apply(h,[null,"%c [A] ","background: #ffe270; color: #000"].concat(r));break;default:(l=console.log).call.apply(l,[null,"%c [LOG] ","background: #333; color: #fff",e].concat(r))}var a,n,i,o,s,d,c,u,h,l}function Warn(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];$data.isLogEnabled&&!$data.isProductionEnvironment&&console.warn.apply(null,e)}function Ajax(e,r){return new Promise(function(t,a){var n=void 0===r?"GET":"POST",i=void 0===r?null:r,o=new XMLHttpRequest;o.open(n,e),o.timeout=$data.ajaxTimeout,o.onreadystatechange=function(){if(4===o.readyState)if(o.status>=200&&o.status<300||304===o.status)if("string"==typeof o.response)try{Log("Ajax","Received from "+e+":",o.response),t(JSON.parse(o.response))}catch(r){a(new Error("@Winterwrath: 服务器发送了错误的数据。"))}else Log("Ajax","Received from "+e+":",o.response),t(o.response);else a(new Error("@Winterwrath: 服务器通信失败。"))};var s="GET"===n?"Sent to "+e:"Sent to "+e+": "+JSON.stringify(r);Log("Ajax",s),o.send(i)})}var __reflect=this&&this.__reflect||function(e,r,t){e.__class__=r,t?t.push(r):t=[r],e.__types__=e.__types__?t.concat(e.__types__):t},__extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a]);t.prototype=r.prototype,e.prototype=new t},$data={orchidVersion:"4.3.3sp2",isProductionEnvironment:!1,isLogEnabled:!0,isCoreLogEnabled:!0,isAPILogEnabled:!0,isUtilsLogEnabled:!0,gameID:1123,gameVersion:107,gameWechatAppID:"wx13087126e48c7c23",wechatBannerUnitID:"adunit-a164dd02bd1229eb",wechatVideoUnitID:"adunit-791ad45fa9902517",gameCoinCost:0,purchaseAddCoinAmount:100,friendHelpAddCoinAmountOfEach:40,refreshCoinCost:0,ajaxTimeout:8e3,localImageLoadTimeout:8e3,remoteImageLoadTimeout:8e3,orientation:"portrait",language:"zh-CN",platform:"iOS",wechatSDKVersion:"2.2.0",devicePixelRatio:3,deviceIndependentPixelHeight:812,deviceIndependentPixelWidth:375,screenFitOffsetTop:0,screenFitOffsetBottom:0,screenFitOffset:0,phase:0,wechatSessionKey:"NULL",loginData:null,isGameGuideShowed:!1,isWechatGroupRankListPromptShowed:!1,isWechatEnvironment:!1,isBannerAdSupported:!1,isVideoAdSupported:!1,isDailyTaskLoginChecked:!1,isGroupRankListShowed:!1,groupRankListOption:null,myName:"",myAvatar:"",myGender:0,myScore:0,myMaxScore:0,myLevel:0,myLocation:"",myID:0,token:"",isShareLocked:!0,bannerAdID:"",videoAdID:"",shareType:1,saveGame:null,saveInterval:3e4,brandGroup:[1,2,3,4,5,6,7,8,9,10,11,12,13],gameTime:0,gameScore:0,gameMove:0,myCoin:"1000",myDiamond:10,isBuyDiamond:!0,wheelMultiplier:1,shareMultiplier:1,membershipMultiplier:1,chessboardStatus:[{index:1,level:1,managerName:"",managerAvatar:"",managerMultiplier:1,shopMultiplier:1,perSecondIncome:"0",showType:1},{index:2,level:1,managerName:"",managerAvatar:"",managerMultiplier:1,shopMultiplier:1,perSecondIncome:"0",showType:1},{index:3,level:1,managerName:"",managerAvatar:"",managerMultiplier:1,shopMultiplier:1,perSecondIncome:"0",showType:0},{index:4,level:1,managerName:"",managerAvatar:"",managerMultiplier:1,shopMultiplier:1,perSecondIncome:"0",showType:0}],wheelStatus:{wheelTimestamp:0,wheelPurchaseCount:0},dailyTaskStatus:{date:0,isDailyRewardGet:[!1,!1,!1,!1,!1],inVitationCount:0,videoCount:0},lastTimestamp:0,shareTimestamp:0,isSoundAllowed:!0,isMusicAllowed:!0,isFollowRewardGet:!1,isFollowed:!1,hasSpecialGuideTriggered:!1,shopName:["苹果创意馆","迪奥旗舰店","京都怀石","阿玛尼","蓝色音符","爱马仕体验店","雷朋专柜","太空体验","myprotein专柜","安娜苏旗舰店","杜嘉班纳体验馆","Burberry专柜","FILA专柜","Gibson体验店","Gucci旗舰店","Chateau Margaux体验馆","sk-II专柜","施华洛世奇体验店","猫的天空之城","纽约保龄专柜","魔药店"],animationStatus:!1,gameBGMVolume:1,wheelRemainingTime:0,wheelTimeExpand:0,guideStep:1,wheelTimestamp:0,watchVideoNum:0,isShopDisplayed:!1,openIdURL:"https://wx.vvppw.com/wx/member/get_open",registerURL:"https://wx.vvppw.com/wx/common/register_third",moreGameURL:"https://wx.vvppw.com/wx/member/more",changeCoinURL:"https://wx.vvppw.com/wx/common/coin",updateScoreURL:"https://wx.vvppw.com/wx/common/over",recommendedGameURL:"https://wx.vvppw.com/wx/common/otherGames",worldRankURL:"https://wx.vvppw.com/wx/car/rank",checkDailyTaskURL:"https://wx.vvppw.com/wx/common/daily_tasks",sendDailyTaskURL:"https://wx.vvppw.com/wx/common/receiver",receiveDailyTaskCoinURL:"https://wx.vvppw.com/wx/common/task_coins",checkAudienceURL:"https://wx.vvppw.com/wx/car/viewer",addAudienceURL:"https://wx.vvppw.com/wx/car/update_viewer",sendChestKeyURL:"https://wx.vvppw.com/wx/car/update_data",checkChestKeyURL:"https://wx.vvppw.com/wx/car/get_data",uploadChestKeyURL:"https://wx.vvppw.com/wx/car/update_data",sameGroupURL:"https://wx.vvppw.com/wx/command/openGid",reportProgressURL:"https://wx.vvppw.com/wx/car/coin",reportFollowRewardGetURL:"https://wx.vvppw.com/wx/car/isFollowRewardGet",fireManagerURL:"https://wx.vvppw.com/wx/common/manualClear",dailyTasksURL:"https://wx.vvppw.com/wx/common/dailyTasks",sendDailyTaskForerverURL:"https://wx.vvppw.com/wx/common/receiverForerver",saveGameURL:"https://wx.vvppw.com/wx/common/saveGame",generalShareURL:"https://wx.vvppw.com/static/buyu_share/shareCard.png",shareImageURLs:["https://wx.vvppw.com/static/car_image/s1.png","https://wx.vvppw.com/static/car_image/s1.png","https://wx.vvppw.com/static/car_image/s2.png","https://wx.vvppw.com/static/car_image/s3.png","https://wx.vvppw.com/static/car_image/s4.png","https://wx.vvppw.com/static/car_image/s5.png","https://wx.vvppw.com/static/car_image/s6.png"],hallLoadingBackgroundURL:"resource/hallLoading.png",hallLoadingProgressURL:"resource/hallLoadingProgress.png",gameLoadingBackgroundURL:"resource/gameLoading.jpg",gameLoadingProgressURL:"resource/gameLoadingProgress.jpg",globalBackgroundMap:{image0:"resource/share.jpg",image1:"https://www.baidu.com/img/bd_logo1.png",image2:"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=2994675841,3607368823&fm=173&app=25&f=JPEG?w=640&h=314&s=9E804984919BAC2E6F9D28A30300B081",image3:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2521557652,1435848256&fm=26&gp=0.jpg",image4:"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=3031179013,3692697996&fm=173&app=25&f=JPEG?w=550&h=366&s=04F256850A72B3CC0439FC800300E091"},shareImageMap:{general:"resource/share.jpg",shareMultiplier:"https://wx.vvppw.com/static/buyu_share/shareCard.png",shareCommonImage:["https://wx.vvppw.com/static/money_image/share001.png","https://wx.vvppw.com/static/money_image/share002.png","https://wx.vvppw.com/static/money_image/share003.png"]},languageMap:{"zh-CN":{followPublicAccount:{get:"已领取 500 钻石"},income:{offline:"您回来了！获得离线收益%COIN%！",newShopA:"又开了一家新店，告诉好友获得",newShopB:"*10！",getCoinToast:"已领取%COIN%金币",getDiamondToast:"已领取%DIAMOND%钻石"},share:{generalShare:"普通分享",shareMultiplier:"%NAME%的专属双倍收益卡！",videoCancelledByUser:"用户取消观看视频",invalidDestination:"请分享至微信群",limitReached:"今日该群分享次数已达上限",recruitStoreManager:"做我的%NAME%店长，年薪百万不是梦",unlockShopDisplay:"刚在市中心开了一家%NAME%，任性！",commonShareText:["坐拥CBD，亿万资产，亲手打造你的商业帝国！","有钱就是任性，没钱，也不认命！","定个小目标，先挣一个亿！","赵丽颖年收过亿？来看看她是怎样做到的！","富可敌国，富甲天下，我就是最富的壕！","买最贵的奢侈品，成为最棒的人生赢家！","你再缠着她信不信我拿钱砸死你！"]},game:{shareMultiplierApplied:"已获取一小时加倍时间",lackOfCoin:"金币不足"},guide:{guide1:"您终于来了！今天是您的“%NAME%”大厦开业的日子！以您的能力，一定能成为奢侈品之王的！",guide2:"首先，我们要签约各种品牌，我们先来开一家Apple线下体验店吧！",guide3:"店铺会为您提供源源不断的收入。",guide4:"升级专卖店等级，店铺将会产生更多的金币。",guide5:"升级成功！\n下面的功能按钮已开放，我们来看看吧！",guide6:"通过“店长管理”邀请好友，随机获得2-10倍永久加倍，快邀请你的专属锦鲤吧！",guide7:"完成“每日任务”就能获得极其稀有的钻石奖励！每天限量，抓紧机会呦！",guide8:"转动“幸运大转盘”即可抽取超级加倍资格，最高可达10倍！",guide9:"进入“商店”可购买各式各样道具，提高产量，还可直接获取超多金币和钻石！",guide10:"快看！这些头顶有金币的，就是我们的金主爸爸了，招待（点击）他们，立即拿到不菲收入！"},resourceLoadFailed:"资源加载失败",hallLoadingInit:"正在初始化",hallLoadingLoadResource:"正在加载文件",hallLoadingLoadResourceFailed:"网络环境异常，请检查网络状态",hallLoadingComplete:"加载完成",hallLoadingRequestAuth:"正在读取用户资料",hallLoadingAuthDenied:"用户资料读取失败",hallLoadingRequestSucceeded:"用户资料获取成功",hallLoadingConnecting:"正在连接游戏适配服务器",hallLoadingConnectFailed:"游戏适配服务器连接失败",hallLoadingEnter:"正在进入游戏大厅",gameLoadingConnecting:"正在连接游戏服务器",gameLoadingConnectFailed:"游戏服务器连接失败，即将返回大厅",gameLoadingEnter:"正在进入游戏",gameLoadingTimeout:"有玩家未进入游戏，即将返回大厅",functionIsNotAvailable:"功能暂未开放",closeGameGuide:"点击任意位置开始游戏",wechatGroupRankListPrompt:"请去群内查看",snapshotSaved:"图片保存成功",snapshotUnsaved:"图片保存失败",authorizationFailed:"点击确定授权才能保存图片哦",authorizationHint:"请点击确定授权以保存图片",wechatShareTitle0:"老板您好！要不要考虑换个跑车？",wechatShareTitle1:"老板您好！要不要考虑换个跑车？",wechatShareTitle2:"玛莎拉蒂，兰博基尼，你想要的全都有！",wechatShareTitle3:"别拦我，今夜就去秋名山跟冠希哥一决雌雄！",wechatShareTitle4:"开最酷的超跑，约最正的台妹！",wechatShareTitle5:"号外号外：《速度与激情9》抢先体验，一般人我不告诉他",wechatShareTitle6:"F1什么的已经弱爆了，全球最神秘的赛道邀您来战！"},"en-US":{resourceLoadFailed:"Failed to load resource",hallLoadingInit:"Initializing",hallLoadingLoadResource:"Loading files",hallLoadingLoadResourceFailed:"An error occured, you may check your network connection status",hallLoadingComplete:"Succeeded to load Files",hallLoadingRequestAuth:"Loading the user data",hallLoadingAuthDenied:"Failed to load the user data",hallLoadingRequestSucceeded:"Succeeded to load the user data",hallLoadingConnecting:"Connecting to the server",hallLoadingConnectFailed:"Failed to connect to the server",hallLoadingEnter:"Launching game",gameLoadingConnecting:"Connecting to the server",gameLoadingConnectFailed:"Failed to connect to the server",gameLoadingEnter:"Joining game",gameLoadingTimeout:"There has a player disconnected",functionIsNotAvailable:"Coming Soon",closeGameGuide:"Click anywhere to start the game",wechatGroupRankListPrompt:"Click the card that you just shared to the group to check the rank list",wechatShareTitle0:"It's an amazing game!"}}};"欢迎使用 Orchid %% 版本"===$data.languageMap["zh-CN"].wechatShareTitle0&&($data.languageMap["zh-CN"].wechatShareTitle0="欢迎使用 Orchid "+$data.orchidVersion+" 版本"),window.$data=$data;var OrchidView=function(e){function r(){var r=e.call(this)||this;return r.timer={},r.once(egret.Event.ADDED_TO_STAGE,function(){Anime.fadeIn.call(r,250)},r),r.once(egret.Event.REMOVED_FROM_STAGE,function(){Object.keys(r.timer).forEach(function(e){clearTimeout(r.timer[e]),clearInterval(r.timer[e])})},r),r}return __extends(r,e),r}(eui.Component);__reflect(OrchidView.prototype,"OrchidView"),window.OrchidView=OrchidView;var Loading=function(e){function r(){var r=e.call(this)||this;return r.y=-(1624-$main.stage.$stageHeight)/2,Loader.loadLocalImage($data.hallLoadingBackgroundURL).then(function(e){r.addChild(e),r.background=e,Anime.fadeIn.call(r.background,300),r.setChildIndex(r.background,0)}),Loader.loadLocalImage($data.hallLoadingProgressURL).then(function(e){r.addChild(e),r.progressBar=e,r.progressBar.x=103,r.progressBar.y=981,r.setChildIndex(r.progressBar,1),r.progressBarMask=new egret.Shape,r.progressBarMask.graphics.beginFill(16724787),r.progressBarMask.graphics.drawRect(103-e.width,981,e.width,e.height),r.progressBarMask.graphics.endFill(),r.progressBar.mask=r.progressBarMask,r.addChild(r.progressBarMask),API.loadResource(function(){$create("Game"),$destroy("Loading")})["catch"](function(e){throw new Error("@Orchid: 资源加载失败。")})}),r}return __extends(r,e),r}(OrchidView);__reflect(Loading.prototype,"Loading");var Brand=function(e){function r(r,t,a,n){var i=e.call(this)||this;return i.thisCardIndex=0,i.skinName="Exml.Brand",i.isPositive=r,i.isCardNum=t,i.isFlowerColor=a,i.isShowCardNum=n,0===i.isShowCardNum?i.isShowCard.visible=!1:i.isShowCard.visible=!0,i.x=628,i.y=100,i.anchorOffsetX=48.5,i.anchorOffsetY=72,i.width=97,i.height=144,i.init(r,t,a),i}return __extends(r,e),r.prototype.init=function(e,r,t){1==e?this.cardImg.source="poker-back_png":this.cardImg.source="poker-positive_png",1!==e?(11>r?this.cardNum.text=1==r?"A":""+r:11===r?this.cardNum.text="J":12===r?this.cardNum.text="Q":13===r&&(this.cardNum.text="K"),1===t||3===t?this.cardNum.textColor=7839420:this.cardNum.textColor=15608883,this.bigColor.source="pokeType-big-"+t+"_png",this.smallColor.source="pokeType-small-"+t+"_png"):(this.cardNum.text="",this.bigColor.source="",this.smallColor.source="")},r}(eui.Component);__reflect(Brand.prototype,"Brand");var Game=function(e){function r(){var r=e.call(this)||this;return r.synthesisArray=[[],[],[],[]],r.cardGroup=[[],[],[],[],[],[],[]],r.brandArray=[],r.useTipArray=[],r.moveCardList=[],r.withdrawArray=[],r.isAnimation=!0,r.isMoveCard=!1,r.isClickCard=!1,r.isAlreadyMoved=!1,r.isFlop=!1,r.starTime=0,r.endTime=0,r.skinName="Exml.Game",AudioManager.playMusic("newGame_mp3"),r.shezhi.y=$main.stage.$stageHeight-80,r.xinyouxi.y=$main.stage.$stageHeight-80,r.tishi.y=$main.stage.$stageHeight-80,r.chexiao.y=$main.stage.$stageHeight-80,r.init(),r.once(egret.Event.REMOVED_FROM_STAGE,function(){clearInterval(r.timerSet)},r),r.timerSet=setInterval(function(){$data.gameTime+=1e3},1e3),$bind("gameTime",function(e){var t=Math.floor(e/6e4)<10?"0"+Math.floor(e/6e4):Math.floor(e/6e4),a=Math.floor(e/1e3%60)<10?"0"+Math.floor(e/1e3%60):Math.floor(e/1e3%60);r.gameTime.text=t+":"+a},r),$bind("gameScore",function(e){r.gameScore.text=e},r),$bind("gameMove",function(e){r.gameMove.text=e},r),r.shezhi.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),$create("SetUp")},r),r.xinyouxi.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),r.newGameGroup.visible=!0},r),r.tuichuImg.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),r.newGameGroup.visible=!1},r),r.againGame.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),r.newGameGroup.visible=!1,$destroy("Game"),$create("Loading")},r),r.signOut.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),r.newGameGroup.visible=!1,$destroy("Game"),$create("Loading")},r),egret.ExternalInterface.addCallback("watchVideoEnd",function(e){r.tipFunction()}),r.tishi.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),egret.ExternalInterface.call("tip","1")},r),r.chexiao.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),r.withdrawFunction()},r),r.licensingImg.addEventListener(egret.TouchEvent.TOUCH_TAP,r.drawCards,r),r.tipBrandGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){egret.ExternalInterface.call("gamePause","2"),egret.Tween.removeTweens(e.target.$parent),r.clickPlaceCard(e.target.$parent,r.useTipArray,r.tipBrandGroup,!0)},r),r.synthesisGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=0;switch(e.target.$parent.x){case 48.5:t=0;break;case 155.5:t=1;break;case 262.5:t=2;break;case 369.5:t=4}r.clickRecovery(e.target.$parent,r.synthesisArray,t,e.target.$parent.x)},r),r.getArrayGroup.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){if(r.starTime=(new Date).getTime(),r.isMoveCard=!1,r.starTime-r.endTime>500){switch(r.isClickCard=!1,r.isAlreadyMoved=!1,r.moveCardList=[],r.thisCardIndex=void 0,r.targetCard=e.target.$parent,r.thisCardIndex=r.targetCard.thisCardIndex,r.thisCardX=r.targetCard.x,r.thisCardY=r.targetCard.y,r.targetCard.rotation=0,egret.Tween.removeTweens(r.targetCard),r.targetCard.x){case 57.375:r.thisCardListIndex=0;break;case 163.25:r.thisCardListIndex=1;break;case 269.125:r.thisCardListIndex=2;break;case 375:r.thisCardListIndex=3;break;case 480.875:r.thisCardListIndex=4;break;case 586.75:r.thisCardListIndex=5;break;case 692.625:r.thisCardListIndex=6}if(1===e.target.$parent.isShowCardNum)r.isMoveCard=!1;else if(void 0!==r.thisCardListIndex&&void 0!==r.thisCardIndex&&1!==e.target.$parent.isShowCardNum)if(r.cardGroup[r.thisCardListIndex].length-1>r.thisCardIndex){for(var t=r.thisCardIndex;t<r.cardGroup[r.thisCardListIndex].length;t++)r.moveCardList.push(r.cardGroup[r.thisCardListIndex][t]);r.isMoveCard=!0}else void 0!==r.thisCardListIndex&&void 0!==r.thisCardIndex&&void 0==r.cardGroup[r.thisCardListIndex][r.thisCardIndex+1]?r.isMoveCard=!0:void 0!==r.thisCardListIndex&&void 0!==r.thisCardIndex&&r.cardGroup[r.thisCardListIndex][r.thisCardIndex+1].isCardNum+1==r.cardGroup[r.thisCardListIndex][r.thisCardIndex+1].isCardNum?r.isMoveCard=!0:r.isMoveCard=!1}else r.endTime=0},r),r.getArrayGroup.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(e){if(r.isMoveCard)if(r.isAlreadyMoved=!0,e.stageX<0||e.stageX>750||e.stageY-72<250||e.stageY>1335)egret.Tween.get(r.targetCard).to({x:r.thisCardX,y:r.thisCardY},200);else if(r.moveCardList.length>1)for(var t=0;t<r.moveCardList.length;t++)r.getArrayGroup.setChildIndex(r.moveCardList[t],r.getArrayGroup.numChildren),r.moveCardList[t].x=e.stageX,r.moveCardList[t].y=e.stageY-297+45*t;else r.getArrayGroup.setChildIndex(r.targetCard,r.getArrayGroup.numChildren),r.targetCard.x=e.stageX,r.targetCard.y=e.stageY-297},r),r.getArrayGroup.addEventListener(egret.TouchEvent.TOUCH_END,function(e){if(r.endTime=(new Date).getTime(),$data.gameMove+=1,r.isAlreadyMoved){if(r.isMoveCard){r.isMoveCard=!1;var t,a=!1,n=[];if(n=13==r.targetCard.isCardNum?Array.from(new Set(r.judgeIsk(r.targetCard.x))):Array.from(new Set(r.judgePlacementPosition(r.targetCard.x))),n.length>0)if(13==r.targetCard.isCardNum)t=n[0],r.isK(r.targetCard,t);else if(r.targetCard.isCardNum+1===r.cardGroup[n[0]][r.cardGroup[n[0]].length-1].isCardNum)t=n[0],a=!0;else if(2==n.length&&r.targetCard.isCardNum+1===r.cardGroup[n[1]][r.cardGroup[n[1]].length-1].isCardNum)t=n[1],a=!0;else if(r.moveCardList.length>1)for(var i=0;i<r.moveCardList.length;i++)egret.Tween.get(r.moveCardList[i]).to({x:r.thisCardX,y:r.thisCardY+45*i},150);else r.targetCard.rotation=0,egret.Tween.removeTweens(r.targetCard),egret.Tween.get(r.targetCard).to({x:r.thisCardX,y:r.thisCardY},150);else if(r.moveCardList.length>1)for(var i=0;i<r.moveCardList.length;i++)egret.Tween.get(r.moveCardList[i]).to({x:r.thisCardX,y:r.thisCardY+45*i},150);else r.targetCard.rotation=0,egret.Tween.removeTweens(r.targetCard),egret.Tween.get(r.targetCard).to({x:r.thisCardX,y:r.thisCardY},150);if(a)if(r.judgeFlowerColor(r.targetCard.isFlowerColor,r.cardGroup[t][r.cardGroup[t].length-1].isFlowerColor))if(r.judgeCoordinate(r.targetCard.x,r.cardGroup[t][r.cardGroup[t].length-1].x,r.targetCard.y,r.cardGroup[t][r.cardGroup[t].length-1].y))if(r.moveCardList.length>1){r.withdrawArray=[];for(var o=r.cardGroup[t][r.cardGroup[t].length-1].y,s=r.cardGroup[t].length,i=0;i<r.moveCardList.length;i++)r.cardGroup[r.thisCardListIndex].splice(r.thisCardIndex,1),r.cardGroup[t].push(r.moveCardList[i]),r.moveCardList[i].thisCardIndex=r.cardGroup[t].length-1,egret.Tween.get(r.moveCardList[i]).to({x:105.875*t+8.875+48.5,y:o+=48.5},100).call(function(){r.thisCardIndex-1>=0&&1===r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].isShowCardNum&&egret.Tween.get(r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].$children[4].visible=!1,r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].isShowCardNum=0})});r.thisCardIndex-1>=0&&1===r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].isShowCardNum?r.isFlop=!0:r.isFlop=!1,r.withdrawArray=[];var d={type:9,beforeArrayIndex:t,afterArrayIndex:r.thisCardListIndex,isFlop:r.isFlop,targetX:r.thisCardX,targetY:r.thisCardY,targetLength:s};r.withdrawArray.push(d),AudioManager.playSound("turnOver_mp3"),$data.gameScore+=5}else{egret.Tween.get(r.targetCard).to({x:105.875*t+8.875+48.5,y:r.cardGroup[t][r.cardGroup[t].length-1].y+45},100).call(function(){AudioManager.playSound("turnOver_mp3"),$data.gameScore+=5,r.cardGroup[r.thisCardListIndex].splice(r.thisCardIndex,1),r.cardGroup[t].push(r.targetCard),r.targetCard.thisCardIndex=r.cardGroup[t].length-1,r.thisCardIndex-1>=0&&1===r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].isShowCardNum&&(r.isFlop=!0,egret.Tween.get(r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].$children[4].visible=!1,r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].isShowCardNum=0}))}),r.thisCardIndex-1>=0&&1===r.cardGroup[r.thisCardListIndex][r.thisCardIndex-1].isShowCardNum?r.isFlop=!0:r.isFlop=!1,r.withdrawArray=[];var d={type:6,beforeArray:r.cardGroup,beforeArrayIndex:t,afterArray:r.cardGroup,afterArrayIndex:r.thisCardListIndex,isFlop:r.isFlop,targetX:r.thisCardX,targetY:r.thisCardY};r.withdrawArray.push(d)}else if(r.moveCardList.length>1)for(var i=0;i<r.moveCardList.length;i++)egret.Tween.get(r.moveCardList[i]).to({x:r.thisCardX,y:r.thisCardY+45*i},150);else egret.Tween.get(r.targetCard).to({x:r.thisCardX,y:r.thisCardY},150);else if(r.moveCardList.length>1)for(var i=0;i<r.moveCardList.length;i++)egret.Tween.get(r.moveCardList[i]).to({x:r.thisCardX,y:r.thisCardY+45*i},150);else egret.Tween.get(r.targetCard).to({x:r.thisCardX,y:r.thisCardY},150)}}else r.moveCardList.length<1&&r.isMoveCard&&r.clickPlaceCard(r.targetCard,r.cardGroup[r.thisCardListIndex],r.getArrayGroup,!1)},r),r}return __extends(r,e),r.prototype.init=function(){this.synthesisArray=[[],[],[],[]],this.cardGroup=[[],[],[],[],[],[],[]],this.brandArray=[],this.useTipArray=[],this.moveCardList=[],this.isAnimation=!0,this.isMoveCard=!1,this.isAlreadyMoved=!1,$data.gameMove=0,$data.gameScore=0,$data.gameTime=0,this.licensing()},r.prototype.drawCards=function(){var e=this;if(this.withdrawArray=[],AudioManager.playSound("turnOver_mp3"),void 0!==this.buttonBorder&&(this.buttonBorder.visible=!1),this.brandArray.length>0&&this.isAnimation){this.isAnimation=!1,this.brandArray[0].x=676.5,this.brandArray[0].y=172,this.addChild(this.brandArray[0]),egret.Tween.get(this.brandArray[0]).to({x:563.5},180).call(function(){e.brandArray[0].x=48.5,e.brandArray[0].y=72,e.useTipArray.push(e.brandArray[0]),e.tipBrandGroup.addChild(e.brandArray[0]),egret.Tween.removeTweens(e.brandArray[0]),e.brandArray.splice(0,1),e.isAnimation=!0});var r={type:0,beforeArray:this.brandArray,afterArray:this.useTipArray};this.withdrawArray.push(r)}1===this.brandArray.length&&(this.licensingImg.source="Theme1_collect_png"),0===this.brandArray.length&&(this.withdrawArray=[],this.brandArray=this.useTipArray,this.useTipArray=[],this.licensingImg.source="poker-back_png",this.tipBrandGroup.removeChildren())},r.prototype.licensing=function(){for(var e=[],r=[1,2,3,4],t=0;t<$data.brandGroup.length;t++)for(var a=0;a<r.length;a++)e.push(new Brand(0,$data.brandGroup[t],r[a],0));this.brandArray=this.upsetArry(e);for(var n=0;n<this.cardGroup.length;n++)for(var i=0;n+1>i;i++)this.cardGroup[n].push(this.brandArray[0]),this.brandArray.splice(0,1);for(var o=0;o<this.cardGroup.length;o++){var s=52,d=8.875;d+=105.875*o+48.5;for(var c=0;c<this.cardGroup[o].length;c++){this.cardGroup[o][c].thisCardIndex=c;var u=new Brand(0,this.cardGroup[o][c].isCardNum,this.cardGroup[o][c].isFlowerColor,c==this.cardGroup[o].length-1?0:1);u.isShowCardNum=c==this.cardGroup[o].length-1?0:1,u.thisCardIndex=c,u.x=628,u.y=-194,u.alpha=0,this.getArrayGroup.addChild(u),this.cardGroup[o][c]=u,s+=20,egret.Tween.get(u).wait(100*o).to({x:d,y:s,alpha:1},50*c)}}},r.prototype.judgeFlowerColor=function(e,r){if(1===e){if(3===r||1===r)return!1}else if(2===e){if(4===r||2===r)return!1}else if(3===e){if(1===r||3===r)return!1}else if(4===e&&(2===r||4===r))return!1;return!0},r.prototype.judgeCoordinate=function(e,r,t,a){return e>r&&r+97>e&&t>a&&a+144>t||e+97>r&&r+97>e+97&&t>a&&a+144>t?!0:!1},r.prototype.judgePlacementPosition=function(e){for(var r=[],t=0;t<this.cardGroup.length;t++)for(var a=0;a<this.cardGroup[t].length;a++)this.cardGroup[t].length>0&&(e>this.cardGroup[t][a].x&&e<this.cardGroup[t][a].x+97||e+97>this.cardGroup[t][a].x&&e+97<this.cardGroup[t][a].x+97)&&r.push(t);return r},r.prototype.judgeIsk=function(e){for(var r=[],t=8.875,a=0;a<this.cardGroup.length;a++)this.cardGroup[a].length<1&&(t+=105.875*a,(e>t&&t+97>e||e+97>t&&t+97>e+97)&&r.push(a));return r},r.prototype.isK=function(e,r){var t=this;if(this.moveCardList.length>1){for(var a=(this.cardGroup[this.thisCardListIndex].length,function(e){egret.Tween.get(n.moveCardList[e]).to({x:105.875*r+8.875+48.5,y:72+45*e},100).call(function(){t.cardGroup[t.thisCardListIndex].splice(t.thisCardIndex,1),t.cardGroup[r].push(t.moveCardList[t.moveCardList.length-1-e]),t.moveCardList[e].thisCardIndex=e,t.thisCardIndex-1>=0&&1===t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1].isShowCardNum&&egret.Tween.get(t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1].$children[4].visible=!1,t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1].isShowCardNum=0})})}),n=this,i=0;i<this.moveCardList.length;i++)a(i);$data.gameScore+=5,AudioManager.playSound("turnOver_mp3")}else{egret.Tween.get(e).to({x:105.875*r+8.875+48.5,y:72},100).call(function(){AudioManager.playSound("turnOver_mp3"),$data.gameScore+=5,t.cardGroup[t.thisCardListIndex].splice(t.thisCardIndex,1),t.cardGroup[r].push(e),e.thisCardIndex=0,t.thisCardIndex-1>=0&&1===t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1].isShowCardNum&&(t.isFlop=!0,egret.Tween.get(t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1].$children[4].visible=!1,t.cardGroup[t.thisCardListIndex][t.thisCardIndex-1].isShowCardNum=0}))}),this.thisCardIndex-1>=0&&1===this.cardGroup[this.thisCardListIndex][this.thisCardIndex-1].isShowCardNum?this.isFlop=!0:this.isFlop=!1,this.withdrawArray=[];var o={type:6,beforeArray:this.cardGroup,beforeArrayIndex:r,afterArray:this.cardGroup,afterArrayIndex:this.thisCardListIndex,isFlop:this.isFlop,targetX:this.thisCardX,targetY:this.thisCardY};this.withdrawArray.push(o)}},r.prototype.clickPlaceCard=function(e,r,t,a){for(var n=this,i=!1,o=function(o){if(s.synthesisArray[o].length>0){if(i=!1,e.isCardNum-1===s.synthesisArray[o][s.synthesisArray[o].length-1].isCardNum&&e.isFlowerColor===s.synthesisArray[o][s.synthesisArray[o].length-1].isFlowerColor){if(a?(e.x=546.75,e.y=172):(e.x=s.thisCardX,e.y=s.thisCardY+297),t.removeChild(e),s.addChild(e),egret.Tween.get(e).to({x:97*o+10*o+48.5,y:172},150).call(function(){e.y=72,n.synthesisGroup.addChild(e),AudioManager.playSound("turnOver_mp3"),$data.gameScore+=10,n.synthesisArray[o].push(e),r.splice(r.length-1,1),n.thisCardIndex-1>=0&&!a&&1===n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum&&egret.Tween.get(n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].$children[4].visible=!1,n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum=0}),n.isPassThrough(n.synthesisArray)&&($create("GameOver"),clearInterval(n.timerSet))}),a){s.withdrawArray=[];var d={type:1,beforeArray:s.useTipArray,afterArray:s.synthesisArray,afterArrayIndex:o};s.withdrawArray.push(d)}else{s.thisCardIndex-1>=0&&!a&&1===s.cardGroup[s.thisCardListIndex][s.thisCardIndex-1].isShowCardNum?s.isFlop=!0:s.isFlop=!1,s.withdrawArray=[];var d={type:2,beforeArray:s.cardGroup,beforeArrayIndex:s.thisCardListIndex,afterArray:s.synthesisArray,afterArrayIndex:o,isFlop:s.isFlop,targetX:s.thisCardX,targetY:s.thisCardY};s.withdrawArray.push(d)}return{value:void 0}}i=!0}else{if(i=!1,1===e.isCardNum){if(s.addChild(e),a?(e.x=546.75,e.y=172):(e.x=s.thisCardX,e.y=s.thisCardY+297),egret.Tween.get(e).to({x:97*o+10*o+48.5,y:172},150).call(function(){e.y=72,n.synthesisGroup.addChild(e),AudioManager.playSound("turnOver_mp3"),$data.gameScore+=10,n.synthesisArray[o].push(e),r.splice(r.length-1,1),n.thisCardIndex-1>=0&&!a&&1===n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum&&egret.Tween.get(n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].$children[4].visible=!1,n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum=0})}),a){s.withdrawArray=[];var d={type:3,beforeArray:s.useTipArray,afterArray:s.synthesisArray,afterArrayIndex:o};s.withdrawArray.push(d)}else{s.thisCardIndex-1>=0&&!a&&1===s.cardGroup[s.thisCardListIndex][s.thisCardIndex-1].isShowCardNum?s.isFlop=!0:s.isFlop=!1,s.withdrawArray=[];var d={type:4,beforeArray:s.cardGroup,beforeArrayIndex:s.thisCardListIndex,afterArray:s.synthesisArray,afterArrayIndex:o,isFlop:s.isFlop,targetX:s.thisCardX,targetY:s.thisCardY};s.withdrawArray.push(d)}return{value:void 0}}i=!0}},s=this,d=0;d<this.synthesisArray.length;d++){var c=o(d);if("object"==typeof c)return c.value}if(i)for(var u=function(i){if(h.cardGroup[i].length>0){if(e.isCardNum+1===h.cardGroup[i][h.cardGroup[i].length-1].isCardNum&&h.judgeFlowerColor(e.isFlowerColor,h.cardGroup[i][h.cardGroup[i].length-1].isFlowerColor)){if(t.removeChild(e),h.getArrayGroup.addChild(e),a?(e.x=563.5,e.y=-125):(e.x=h.thisCardX,e.y=h.thisCardY),egret.Tween.get(e).to({x:8.875+105.875*i+48.5,y:h.cardGroup[i][h.cardGroup[i].length-1].y+45},150).call(function(){AudioManager.playSound("turnOver_mp3"),$data.gameScore+=5,e.thisCardIndex=n.cardGroup[i].length,r.splice(r.length-1,1),n.cardGroup[i].push(e),n.thisCardIndex-1>=0&&!a&&1===n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum&&egret.Tween.get(n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].$children[4].visible=!1,n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum=0})}),a){h.withdrawArray=[];var o={type:5,beforeArray:h.cardGroup,beforeArrayIndex:i,afterArray:h.useTipArray};h.withdrawArray.push(o)}else{h.thisCardIndex-1>=0&&!a&&1===h.cardGroup[h.thisCardListIndex][h.thisCardIndex-1].isShowCardNum?h.isFlop=!0:h.isFlop=!1,h.withdrawArray=[];var o={type:6,beforeArray:h.cardGroup,beforeArrayIndex:i,afterArray:h.cardGroup,afterArrayIndex:h.thisCardListIndex,isFlop:h.isFlop,targetX:h.thisCardX,targetY:h.thisCardY};h.withdrawArray.push(o)}return{value:void 0}}}else if(13===e.isCardNum){if(a?(t.removeChild(e),h.getArrayGroup.addChild(e),e.x=563.5,e.y=-125):(e.x=h.thisCardX,e.y=h.thisCardY),egret.Tween.get(e).to({x:8.875+105.875*i+48.5,y:72},150).call(function(){AudioManager.playSound("turnOver_mp3"),$data.gameScore+=5,e.thisCardIndex=0,r.splice(r.length-1,1),n.cardGroup[i].push(e),n.thisCardIndex-1>=0&&!a&&1===n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum&&egret.Tween.get(n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1]).to({scaleX:0},120).wait(80).to({scaleX:1},120).call(function(){n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].$children[4].visible=!1,n.cardGroup[n.thisCardListIndex][n.thisCardIndex-1].isShowCardNum=0})}),a){h.withdrawArray=[];var o={type:5,beforeArray:h.cardGroup,beforeArrayIndex:i,afterArray:h.useTipArray};h.withdrawArray.push(o)}else{h.thisCardIndex-1>=0&&!a&&1===h.cardGroup[h.thisCardListIndex][h.thisCardIndex-1].isShowCardNum?h.isFlop=!0:h.isFlop=!1,h.withdrawArray=[];
var o={type:6,beforeArray:h.cardGroup,beforeArrayIndex:i,afterArray:h.cardGroup,afterArrayIndex:h.thisCardListIndex,isFlop:h.isFlop,targetX:h.thisCardX,targetY:h.thisCardY};h.withdrawArray.push(o)}return{value:void 0}}},h=this,d=0;d<this.cardGroup.length;d++){var l=u(d);if("object"==typeof l)return l.value}},r.prototype.clickRecovery=function(e,r,t,a){for(var n=this,i=function(i){if(o.cardGroup[i].length>0){if(e.isCardNum+1===o.cardGroup[i][o.cardGroup[i].length-1].isCardNum&&o.judgeFlowerColor(e.isFlowerColor,o.cardGroup[i][o.cardGroup[i].length-1].isFlowerColor)){o.withdrawArray=[],o.getArrayGroup.addChild(e),e.x=a,e.y=-195,egret.Tween.get(e).to({x:8.875+105.875*i+48.5,y:o.cardGroup[i][o.cardGroup[i].length-1].y+45},150).call(function(){AudioManager.playSound("turnOver_mp3"),e.thisCardIndex=n.cardGroup[i].length,r[t].splice(r[t].length-1,1),n.cardGroup[i].push(e)}),o.withdrawArray=[];var s={type:7,beforeArray:o.cardGroup,beforeArrayIndex:i,afterArray:o.synthesisArray,afterArrayIndex:t,targetX:a,targetY:100};return o.withdrawArray.push(s),{value:void 0}}}else if(13===e.isCardNum){o.withdrawArray=[],o.synthesisGroup.removeChild(e),o.getArrayGroup.addChild(e),e.x=a,e.y=-195,egret.Tween.get(e).to({x:8.875+105.875*i+48.5,y:0},150).call(function(){AudioManager.playSound("turnOver_mp3"),e.thisCardIndex=0,r[t].splice(r[t].length-1,1),n.cardGroup[i].push(e)}),o.withdrawArray=[];var s={type:7,beforeArray:o.cardGroup,beforeArrayIndex:i,afterArray:o.synthesisArray,afterArrayIndex:t,targetX:a,targetY:100};return o.withdrawArray.push(s),{value:void 0}}},o=this,s=0;s<this.cardGroup.length;s++){var d=i(s);if("object"==typeof d)return d.value}},r.prototype.isPassThrough=function(e){for(var r=!1,t=0;t<e.length;t++)r=13===e[t].length?!0:!1;return r},r.prototype.tipFunction=function(){for(var e=0,r=this.cardGroup,t=[],a=0;a<r.length;a++)if(r[a].length>0){var n=r[a][r[a].length-1];t.push(n)}for(var a=0;a<t.length;a++)for(var i=0;i<r.length;i++)if(r[i].length>0)if(t[a].isCardNum+1===r[i][r[i].length-1].isCardNum){if(this.judgeFlowerColor(t[a].isFlowerColor,r[i][r[i].length-1].isFlowerColor))return this.tipAnimation(t[a]),void(e=0)}else e=1;if(1===e)for(var o=0;o<r.length;o++)if(r[o].length>0)if(this.useTipArray.length>0&&this.useTipArray[this.useTipArray.length-1].isCardNum+1===r[o][r[o].length-1].isCardNum){if(this.judgeFlowerColor(this.useTipArray[this.useTipArray.length-1].isFlowerColor,r[o][r[o].length-1].isFlowerColor))return this.tipAnimation(this.useTipArray[this.useTipArray.length-1]),void(e=1)}else e=2;else if(this.useTipArray.length>0&&13===this.useTipArray[this.useTipArray.length-1].isCardNum)return this.tipAnimation(this.useTipArray[this.useTipArray.length-1]),void(e=1);if(e=2)for(var s=0;s<r.length;s++)if(r[s].length>0)for(var d=0;d<this.synthesisArray.length;d++)if(this.synthesisArray[d].length>0){if(r[s][r[s].length-1].isCardNum-1===this.synthesisArray[d][this.synthesisArray[d].length-1].isCardNum&&r[s][r[s].length-1].isFlowerColor===this.synthesisArray[d][this.synthesisArray[d].length-1].isFlowerColor)return this.tipAnimation(r[s][r[s].length-1]),void(e=2);e=3}else if(1===r[s][r[s].length-1].isCardNum)return void this.tipAnimation(r[s][r[s].length-1]);(e=3)&&(this.buttonBorder?this.buttonBorder.visible=!0:(this.buttonBorder=new egret.Shape,this.buttonBorder.graphics.beginFill(16777215,0),this.buttonBorder.graphics.lineStyle(8,16728128),this.buttonBorder.graphics.drawRoundRect(628,100,97,144,36,36),this.buttonBorder.graphics.endFill(),this.addChild(this.buttonBorder),egret.Tween.get(this.buttonBorder,{loop:!0}).to({alpha:0},800,egret.Ease.sineOut).wait(100).to({alpha:1},800,egret.Ease.sineInOut)))},r.prototype.tipAnimation=function(e){egret.Tween.get(e,{loop:!0}).to({rotation:12},62.5).to({rotation:-12},62.5).to({rotation:12},62.5).to({rotation:-12},62.5).to({rotation:12},62.5).to({rotation:-12},62.5).to({rotation:0},62.5).wait(1562.5)},r.prototype.withdrawFunction=function(){var e=this;if(this.withdrawArray.length>0){if(0===this.withdrawArray[0].type)this.useTipArray[this.useTipArray.length-1].x=563.5,this.useTipArray[this.useTipArray.length-1].y=172,this.addChild(this.useTipArray[this.useTipArray.length-1]),this.useTipArray[this.useTipArray.length-1].$children[4].visible=!0,egret.Tween.get(this.useTipArray[this.useTipArray.length-1]).to({x:676.5,y:172},80).call(function(){e.useTipArray[e.useTipArray.length-1].$children[4].visible=!1,e.removeChild(e.useTipArray[e.useTipArray.length-1]),e.brandArray.unshift(e.useTipArray[e.useTipArray.length-1]),e.useTipArray.splice(e.useTipArray.length-1,1),e.withdrawArray=[]});else if(1===this.withdrawArray[0].type||3===this.withdrawArray[0].type){var r=this.synthesisArray[this.withdrawArray[0].afterArrayIndex].length-1;this.synthesisArray[this.withdrawArray[0].afterArrayIndex][r].x+=16.75,this.synthesisArray[this.withdrawArray[0].afterArrayIndex][r].y+=100,this.addChild(this.synthesisArray[this.withdrawArray[0].afterArrayIndex][r]),egret.Tween.get(this.synthesisArray[this.withdrawArray[0].afterArrayIndex][r]).to({x:563.5,y:172},80).call(function(){e.synthesisArray[e.withdrawArray[0].afterArrayIndex][r].x=48.5,e.synthesisArray[e.withdrawArray[0].afterArrayIndex][r].y=72,e.tipBrandGroup.addChild(e.synthesisArray[e.withdrawArray[0].afterArrayIndex][r]),e.useTipArray.push(e.synthesisArray[e.withdrawArray[0].afterArrayIndex][r]),3===e.withdrawArray[0].type&&(e.synthesisArray[e.withdrawArray[0].afterArrayIndex]=[]),e.synthesisArray[e.withdrawArray[0].afterArrayIndex].splice(e.synthesisArray[e.withdrawArray[0].afterArrayIndex].length-1,1),e.withdrawArray=[]})}else if(2===this.withdrawArray[0].type||4===this.withdrawArray[0].type){var t=this.synthesisArray[this.withdrawArray[0].afterArrayIndex].length-1;this.synthesisArray[this.withdrawArray[0].afterArrayIndex][t].x+=16.75,this.synthesisArray[this.withdrawArray[0].afterArrayIndex][t].y+=100,this.addChild(this.synthesisArray[this.withdrawArray[0].afterArrayIndex][t]),this.withdrawArray[0].isFlop&&this.cardGroup[this.withdrawArray[0].beforeArrayIndex].length>0?egret.Tween.get(this.cardGroup[this.withdrawArray[0].beforeArrayIndex][this.cardGroup[this.withdrawArray[0].beforeArrayIndex].length-1]).to({scaleX:0},80).wait(50).to({scaleX:1},80).call(function(){e.cardGroup[e.withdrawArray[0].beforeArrayIndex][e.cardGroup[e.withdrawArray[0].beforeArrayIndex].length-1].$children[4].visible=!0,e.cardGroup[e.withdrawArray[0].beforeArrayIndex][e.cardGroup[e.withdrawArray[0].beforeArrayIndex].length-1].isShowCardNum=1,egret.Tween.get(e.synthesisArray[e.withdrawArray[0].afterArrayIndex][t]).to({x:e.withdrawArray[0].targetX,y:e.withdrawArray[0].targetY+297},80).call(function(){e.synthesisArray[e.withdrawArray[0].afterArrayIndex][t].y=e.withdrawArray[0].targetY,e.getArrayGroup.addChild(e.synthesisArray[e.withdrawArray[0].afterArrayIndex][t]),e.cardGroup[e.withdrawArray[0].beforeArrayIndex].push(e.synthesisArray[e.withdrawArray[0].afterArrayIndex][t]),e.synthesisArray[e.withdrawArray[0].afterArrayIndex].splice(e.synthesisArray[e.withdrawArray[0].afterArrayIndex].length-1,1),e.withdrawArray=[],e.isFlop=!1})}):egret.Tween.get(this.synthesisArray[this.withdrawArray[0].afterArrayIndex][t]).to({x:this.withdrawArray[0].targetX,y:this.withdrawArray[0].targetY+297},80).call(function(){e.synthesisArray[e.withdrawArray[0].afterArrayIndex][t].y=e.withdrawArray[0].targetY,e.getArrayGroup.addChild(e.synthesisArray[e.withdrawArray[0].afterArrayIndex][t]),e.cardGroup[e.withdrawArray[0].beforeArrayIndex].push(e.synthesisArray[e.withdrawArray[0].afterArrayIndex][t]),e.synthesisArray[e.withdrawArray[0].afterArrayIndex].splice(e.synthesisArray[e.withdrawArray[0].afterArrayIndex].length-1,1),e.withdrawArray=[],e.isFlop=!1})}else if(5===this.withdrawArray[0].type){var a=this.withdrawArray[0].beforeArray[this.withdrawArray[0].beforeArrayIndex].length-1;this.withdrawArray[0].beforeArray[this.withdrawArray[0].beforeArrayIndex][a].y+=297,this.addChild(this.withdrawArray[0].beforeArray[this.withdrawArray[0].beforeArrayIndex][a]),egret.Tween.get(this.withdrawArray[0].beforeArray[this.withdrawArray[0].beforeArrayIndex][a]).to({x:563.5,y:172},80).call(function(){e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][a].x=48.5,e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][a].y=72,e.tipBrandGroup.addChild(e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][a]),e.useTipArray.push(e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][a]),e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex].splice(a,1),e.withdrawArray=[]})}else if(6===this.withdrawArray[0].type){var n=this.withdrawArray[0].beforeArray[this.withdrawArray[0].beforeArrayIndex].length-1,i=this.withdrawArray[0].afterArray[this.withdrawArray[0].afterArrayIndex].length;this.withdrawArray[0].isFlop&&this.cardGroup[this.withdrawArray[0].afterArrayIndex].length>0?egret.Tween.get(this.cardGroup[this.withdrawArray[0].afterArrayIndex][this.cardGroup[this.withdrawArray[0].afterArrayIndex].length-1]).to({scaleX:0},80).wait(50).to({scaleX:1},80).call(function(){e.withdrawArray[0].afterArray[e.withdrawArray[0].afterArrayIndex][e.cardGroup[e.withdrawArray[0].afterArrayIndex].length-1].$children[4].visible=!0,e.withdrawArray[0].afterArray[e.withdrawArray[0].afterArrayIndex][e.cardGroup[e.withdrawArray[0].afterArrayIndex].length-1].isShowCardNum=1,egret.Tween.get(e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][n]).to({x:e.withdrawArray[0].targetX,y:e.withdrawArray[0].targetY},80).call(function(){e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][n].thisCardIndex=i,e.withdrawArray[0].afterArray[e.withdrawArray[0].afterArrayIndex].push(e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][n]),e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex].splice(n,1),e.withdrawArray=[],e.isFlop=!1})}):egret.Tween.get(this.withdrawArray[0].beforeArray[this.withdrawArray[0].beforeArrayIndex][n]).to({x:this.withdrawArray[0].targetX,y:this.withdrawArray[0].targetY},80).call(function(){e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][n].thisCardIndex=i,e.withdrawArray[0].afterArray[e.withdrawArray[0].afterArrayIndex].push(e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex][n]),e.withdrawArray[0].beforeArray[e.withdrawArray[0].beforeArrayIndex].splice(n,1),e.withdrawArray=[],e.isFlop=!1})}else if(7===this.withdrawArray[0].type){var o=this.cardGroup[this.withdrawArray[0].beforeArrayIndex].length-1;this.cardGroup[this.withdrawArray[0].beforeArrayIndex][o].y+=297,this.addChild(this.cardGroup[this.withdrawArray[0].beforeArrayIndex][o]),egret.Tween.get(this.cardGroup[this.withdrawArray[0].beforeArrayIndex][o]).to({x:this.withdrawArray[0].targetX,y:this.withdrawArray[0].targetY},80).call(function(){e.cardGroup[e.withdrawArray[0].beforeArrayIndex][o].y=72,e.synthesisGroup.addChild(e.cardGroup[e.withdrawArray[0].beforeArrayIndex][o]),e.synthesisArray[e.withdrawArray[0].afterArrayIndex].push(e.cardGroup[e.withdrawArray[0].beforeArrayIndex][o]),e.cardGroup[e.withdrawArray[0].beforeArrayIndex].splice(o,1)})}else if(9===this.withdrawArray[0].type)if(this.withdrawArray[0].isFlop&&this.cardGroup[this.withdrawArray[0].afterArrayIndex].length>0)egret.Tween.get(this.cardGroup[this.withdrawArray[0].afterArrayIndex][this.cardGroup[this.withdrawArray[0].afterArrayIndex].length-1]).to({scaleX:0},80).wait(50).to({scaleX:1},80).call(function(){e.cardGroup[e.withdrawArray[0].afterArrayIndex][e.cardGroup[e.withdrawArray[0].afterArrayIndex].length-1].$children[4].visible=!0,e.cardGroup[e.withdrawArray[0].afterArrayIndex][e.cardGroup[e.withdrawArray[0].afterArrayIndex].length-1].isShowCardNum=1;var r=0;r=e.cardGroup[e.withdrawArray[0].afterArrayIndex].length>0?e.cardGroup[e.withdrawArray[0].afterArrayIndex][e.cardGroup[e.withdrawArray[0].afterArrayIndex].length-1].y-28.5:72;for(var t=function(t){e.cardGroup[e.withdrawArray[0].beforeArrayIndex][t].thisCardIndex=e.cardGroup[e.withdrawArray[0].afterArrayIndex].length,e.cardGroup[e.withdrawArray[0].afterArrayIndex].push(e.cardGroup[e.withdrawArray[0].beforeArrayIndex][t]),egret.Tween.get(e.cardGroup[e.withdrawArray[0].beforeArrayIndex][t]).to({x:e.withdrawArray[0].targetX,y:r+=48.5},80).call(function(){e.cardGroup[e.withdrawArray[0].beforeArrayIndex].splice(t,1),t===e.cardGroup[e.withdrawArray[0].beforeArrayIndex].length-1&&(e.withdrawArray=[])})},a=e.withdrawArray[0].targetLength;a<e.cardGroup[e.withdrawArray[0].beforeArrayIndex].length;a++)t(a)});else{var s=0;s=this.cardGroup[this.withdrawArray[0].afterArrayIndex].length>0?this.cardGroup[this.withdrawArray[0].afterArrayIndex][this.cardGroup[this.withdrawArray[0].afterArrayIndex].length-1].y:72;for(var d=function(r){c.cardGroup[c.withdrawArray[0].beforeArrayIndex][r].thisCardIndex=c.cardGroup[c.withdrawArray[0].afterArrayIndex].length,c.cardGroup[c.withdrawArray[0].afterArrayIndex].push(c.cardGroup[c.withdrawArray[0].beforeArrayIndex][r]),egret.Tween.get(c.cardGroup[c.withdrawArray[0].beforeArrayIndex][r]).to({x:c.withdrawArray[0].targetX,y:s+=48.5},80).call(function(){e.cardGroup[e.withdrawArray[0].beforeArrayIndex].splice(r,1),r===e.cardGroup[e.withdrawArray[0].beforeArrayIndex].length-1&&(e.withdrawArray=[])})},c=this,u=this.withdrawArray[0].targetLength;u<this.cardGroup[this.withdrawArray[0].beforeArrayIndex].length;u++)d(u)}}else Toast("No revocable cards")},r.prototype.upsetArry=function(e){for(var r=e.length,t=0;r>t;t++){var a=r-1,n=Math.random()*(a+1)|0,i=e[a];e[a]=e[n],e[n]=i}return e},r}(eui.Component);__reflect(Game.prototype,"Game");var GameOver=function(e){function r(){var r=e.call(this)||this;AudioManager.playSound("gameOver_mp3"),r.skinName="Exml.GameOver",r.gameOverMove.text=$data.gameMove+"",r.gameOverScore.text=$data.gameScore+"";var t=Math.floor($data.gameTime/6e4)<10?"0"+Math.floor($data.gameTime/6e4):Math.floor($data.gameTime/6e4),a=Math.floor($data.gameTime/1e3%60)<10?"0"+Math.floor($data.gameTime/1e3%60):Math.floor($data.gameTime/1e3%60);return r.gameOverTime.text=t+":"+a,r.out.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),r.parent.removeChild(r),$destroy("Game"),$create("Loading")},r),r}return __extends(r,e),r}(eui.Component);__reflect(GameOver.prototype,"GameOver");var SetUp=function(e){function r(){var r=e.call(this)||this;return r.skinName="Exml.SetUp",r.tuichu.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),r.parent.removeChild(r)},r),r.feedBackRect.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),egret.ExternalInterface.call("feedBack","0")},r),r.scoreRect.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),egret.ExternalInterface.call("score","0")},r),r.cleanUpRect.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),egret.ExternalInterface.call("cleanUp","0")},r),r.aboutRect.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){AudioManager.playSound("button_mp3"),egret.ExternalInterface.call("about","0")},r),r}return __extends(r,e),r}(eui.Component);__reflect(SetUp.prototype,"SetUp");var Loader=function(){function e(){}return e.loadLocalImage=function(e){return new Promise(function(r,t){var a=new egret.ImageLoader,n=setTimeout(function(){t()},$data.localImageLoadTimeout);a.once(egret.Event.COMPLETE,function(e){var t=new egret.Texture;t.bitmapData=e.target.data,clearTimeout(n),r(new egret.Bitmap(t))},null),a.load(e)})["catch"](function(e){})},e.loadRemoteImage=function(e){var r=this;return new Promise(function(t,a){var n=setTimeout(function(){a()},$data.remoteImageLoadTimeout);RES.getResByUrl(e,function(e){clearTimeout(n),t(new egret.Bitmap(e))},r,RES.ResourceItem.TYPE_IMAGE)})["catch"](function(){})},e}();__reflect(Loader.prototype,"Loader");var AdManager=function(){function e(){}return e.addBannerAd=function(r){e.bannerAdChannel&&e.bannerAdChannel.destroy(),e.bannerAdChannel=Wechat.createBannerAd(r),e.bannerAdChannel.onResize(function(r){var t=r.height;e.bannerAdChannel.style.width=$data.deviceIndependentPixelWidth,e.bannerAdChannel.style.top=$data.deviceIndependentPixelHeight-t}),e.bannerAdChannel.show()},e.addMinimumBannerAd=function(r){e.bannerAdChannel&&e.bannerAdChannel.destroy(),e.bannerAdChannel=Wechat.createBannerAd(r),e.bannerAdChannel.onResize(function(r){var t=r.width,a=r.height;e.bannerAdChannel.style.left=($data.deviceIndependentPixelWidth-t)/2,e.bannerAdChannel.style.top=$data.deviceIndependentPixelHeight-a}),e.bannerAdChannel.show()},e.addAlternateBannerAd=function(r,t){r=1e4>r?1e4:r,e.addBannerAd(t),e.alternateBannerAdTimer=setInterval(e.addBannerAd,r)},e.addAlternateMinimumBannerAd=function(r,t){r=1e4>r?1e4:r,e.addMinimumBannerAd(t),e.alternateBannerAdTimer=setInterval(e.addMinimumBannerAd,r)},e.removeBannerAd=function(){e.bannerAdChannel&&(e.bannerAdChannel.destroy(),e.bannerAdChannel=null),clearInterval(e.alternateBannerAdTimer)},e.addRewardedVideoAd=function(){var r;e.rewardedVideoAdChannel?r=e.rewardedVideoAdChannel:(r=Wechat.createRewardedVideoAd(),e.rewardedVideoAdChannel=r,r.onClose(function(r){var t=r.isEnded;$dispatch(e.REWARDED_VIDEO,{isEnded:t})}),r.onError(function(r){r.errCode;$dispatch(e.REWARDED_VIDEO,{isEnded:!1}),setTimeout(function(){Toast("当前暂无可展示的视频")},500)})),r.load().then(function(){r.show()})["catch"](function(){$dispatch(e.REWARDED_VIDEO,{isEnded:!1})})},e.REWARDED_VIDEO="REWARDED_VIDEO",e.bannerAdChannel=null,e.rewardedVideoAdChannel=null,e}();__reflect(AdManager.prototype,"AdManager");var Anime=function(){function e(){}return e.buttonShrink=function(){egret.Tween.get(this).to({scaleX:.9,scaleY:.9},100,egret.Ease.quadIn)},e.buttonGrow=function(){egret.Tween.get(this).to({scaleX:1.05,scaleY:1.05},100,egret.Ease.quadIn)},e.buttonOrigin=function(){egret.Tween.get(this).to({scaleX:1,scaleY:1},100,egret.Ease.quadOut)},e.viewShirnk=function(e){egret.Tween.get(this).to({scaleX:1,scaleY:1,alpha:1}).to({scaleX:0,scaleY:0,alpha:0},e,egret.Ease.quadIn)},e.viewGrow=function(e){egret.Tween.get(this).to({scaleX:0,scaleY:0,alpha:0}).to({scaleX:1,scaleY:1,alpha:1},e,egret.Ease.quadIn)},e.viewOrigin=function(e){egret.Tween.get(this).to({scaleX:1,scaleY:1,alpha:1},e,egret.Ease.quadOut)},e.fadeIn=function(e,r){egret.Tween.get(this).to({alpha:0}).wait(r||0).to({alpha:1},e,egret.Ease.sineIn)},e.fadeOut=function(e,r){egret.Tween.get(this).to({alpha:1}).wait(r||0).to({alpha:0},e,egret.Ease.sineOut)},e.appearFromTop=function(e,r){var t=this.y;egret.Tween.get(this).to({y:this.anchorOffsetY-this.height}).wait(r||0).to({y:t},e,egret.Ease.quadOut)},e.appearFromRight=function(e,r){var t=this.x;egret.Tween.get(this).to({x:this.width-this.anchorOffsetX}).wait(r||0).to({x:t},e,egret.Ease.quadOut)},e.appearFromBottom=function(e,r){var t=this.y;egret.Tween.get(this).to({y:this.height-this.anchorOffsetY}).wait(r||0).to({y:t},e,egret.Ease.quadOut)},e.appearFromLeft=function(e,r){var t=this.x;egret.Tween.get(this).to({x:this.anchorOffsetX-this.width}).wait(r||0).to({x:t},e,egret.Ease.quadOut)},e.blink=function(e,r){var t=this;egret.Tween.get(this).to({alpha:0}).wait(r||0).to({alpha:1},e/4,egret.Ease.quadOut).to({alpha:0},3*e/4,egret.Ease.quadOut).call(function(){egret.Tween.get(t,{loop:!0}).to({alpha:1},e/4,egret.Ease.quadOut).to({alpha:0},3*e/4,egret.Ease.quadOut)})},e.attractiveMove=function(e){egret.Tween.get(this,{loop:!0}).to({rotation:10},e/32).to({rotation:-10},e/32).to({rotation:10},e/32).to({rotation:-10},e/32).to({rotation:10},e/32).to({rotation:-10},e/32).to({rotation:0},e/32).wait(25*e/32)},e}();__reflect(Anime.prototype,"Anime"),window.Anime=Anime;var API=function(){function e(){}return e.saveGame=function(){Ajax($data.saveGameURL,{user_id:$data.myID,game_id:$data.gameID,saveGame:JSON.stringify($data.saveGame)})["catch"](function(e){return void e})},e.getStorageData=function(){var e=window.wx.getStorageSync("gameInfo");e&&($data.myDiamond=e.myDiamond,$data.myCoin=e.myCoin)},e.registerAudioListener=function(){Wechat.onShow("AsyncAudioManagerInit",AsyncAudioManager.onResume),Wechat.onHide("AsyncAudioManagerInit",AsyncAudioManager.onPause),Wechat.onAudioInterruptionEnd(AsyncAudioManager.onResume),Wechat.onAudioInterruptionBegin(AsyncAudioManager.onPause)},e.updateGameLevel=function(e){Ajax($data.reportProgressURL,{user_id:$data.myID,coin:e}),Wechat.setUserCloudStorage("score",String(e))},e.getRecommendedGameInfo=function(){return Ajax($data.recommendedGameURL,{game_id:$data.gameID}).then(function(e){return e.data.map(function(e){return{appID:e.appid,title:e.title,icon:e.icon}})})["catch"](function(e){return void e})},e.getOpenDataContext=function(e){Log("API","getOpenDataContext");var r=Wechat.getOpenDataContext();r.canvas.height=$main.stage.$stageHeight,r.canvas.width=$main.stage.$stageWidth;var t=new egret.BitmapData(window.sharedCanvas);t.$deleteSource=!1;var a=new egret.Texture;a._setBitmapData(t);var n=new egret.Bitmap(a);return n.width=$main.stage.$stageWidth,n.height=$main.stage.$stageHeight,e.addChild(n),egret.startTick(function(e){return egret.WebGLUtils.deleteWebGLTexture(t.webGLTexture),t.webGLTexture=null,!1},e),r},e.getWorldRankData=function(){return Ajax($data.worldRankURL,{user_id:$data.myID}).then(function(e){var r=e.data;return r})},e.getFriendRankData=function(){var e=Wechat.getOpenDataContext();return e.postMessage({type:"data-delivery",action:"get-friend-data"}),new Promise(function(r,t){var a=0,n=setInterval(function(){a++,a>30&&(clearTimeout(n),t()),e.canvas.userDataList&&(clearTimeout(n),r(JSON.parse(e.canvas.userDataList)))},100)})},e.getGroupRankData=function(e){var r=Wechat.getOpenDataContext();return r.postMessage({type:"data-delivery",action:"get-group-data",shareTicket:e}),new Promise(function(e,t){var a=0,n=setInterval(function(){a++,a>30&&(clearTimeout(n),t()),r.canvas.userDataList&&(clearTimeout(n),e(JSON.parse(r.canvas.userDataList)))},100)})},e.setFitScreenValue=function(){$main.stage.$stageHeight>$main.stage.$stageWidth?($data.orientation="portrait",$data.screenFitOffset=Math.abs(($main.stage.$stageHeight-1624)/2|0)):($data.orientation="landscape",$data.screenFitOffset=Math.abs(($main.stage.$stageWidth-1624)/2|0)),$data.screenFitOffsetTop=$data.screenFitOffset,$data.screenFitOffsetBottom=$data.screenFitOffset,Log("API","fitScreen: "+$data.orientation)},e.fitScreen=function(e,r){"relative"===r?"portrait"===$data.orientation?e.height=$main.stage.$stageHeight:e.width=$main.stage.$stageWidth:"portrait"===$data.orientation?e.y-=$data.screenFitOffset:e.x-=$data.screenFitOffset},e.initLocalData=function(){var e=Wechat.getSystemInfoSync();Log("API","initLocalData",e),$data.platform="ios"===e.platform?"iOS":"Android",$data.wechatSDKVersion=e.SDKVersion,$data.devicePixelRatio=e.devicePixelRatio,$data.deviceIndependentPixelHeight=e.screenHeight,$data.deviceIndependentPixelWidth=e.screenWidth},e.mapLanguage=function(e){I18n(e),Log("API","mapLanguage",e)},e.loadResource=function(e){var r=0,t=0,a=0;return RES.loadConfig("resource/default.res.json","resource/").then(function(){return new Promise(function(e,r){var t=new eui.Theme("resource/default.thm.json",$main.stage);t.once(egret.Event.COMPLETE,function(){e()},$main)})}).then(function(){RES.loadGroup("preload",0,{onProgress:function(n,i){if(r++,a=0,1===r){t=i;var o=setInterval(function(){var n=Math.floor(100*r/t)/100;egret.Tween.get($view.loading.progressBarMask).to({x:Math.floor(545*n)},300,egret.Ease.cubicIn),r===t?(clearInterval(o),setTimeout(function(){e()},1e3)):(a++,a>3&&(a=0,r++))},500)}}})})},e.login=function(e){return Log("API","login"),Wechat.login().then(function(e){return Ajax($data.openIdURL,{js_code:e,game_id:$data.gameID})}).then(function(e){var r=e.data;return $data.wechatSessionKey=String(r.session_key),Wechat.getUserInfo()}).then(function(e){var r=e.userInfo,t=e.encryptedData,a=e.iv;return $data.myAvatar=String(r.avatarUrl),$data.myName=String(r.nickName),$data.myGender=Number(r.gender),$data.myLocation=String(r.country+" "+r.province+" "+r.city),Ajax($data.registerURL,{encryptedData:t,iv:a,session_key:$data.wechatSessionKey,game_id:$data.gameID,version:$data.gameVersion,city:$data.myLocation})}).then(function(r){var t=r.data;Log(t),$data.myID=Number(t.id),$data.token=String(t.token),$data.isShareLocked=Boolean(Number(t.share_lock)),$data.wechatVideoUnitID=t.gameInfo.video_id,$data.wechatBannerUnitID=t.gameInfo.banner_id,$data.shareType=Number(t.video_status),$data.saveGame=t.saveGame,$data.saveInterval=t.saveInterval,t.shopName&&($data.shopName=JSON.parse(t.shopName)),e()})},e.connectToMatchServer=function(e){},e.sendDailyTaskInfo=function(e){Log("API","sendDailyTaskInfo",e),Ajax($data.sendDailyTaskURL,e)["catch"](function(e){return void e})},e.addAudienceInfo=function(e){Log("API","addAudienceInfo",e),Ajax($data.addAudienceURL,e)["catch"](function(e){return void e})},e.sendChestKeyInfo=function(e){Log("API","sendChestKeyInfo",e),Ajax($data.sendChestKeyURL,e)["catch"](function(e){return void e})},e.receiveChestReward=function(e){Log("API","receiveChestReward",e),Ajax($data.receiveDailyTaskCoinURL,e).then(function(){})["catch"](function(e){return void e})},e.deleteAudienceInfo=function(e){Log("API","deleteAudienceInfo",e),Ajax($data.receiveDailyTaskCoinURL,e).then(function(){})["catch"](function(e){return void e})},e.checkDailyTaskList=function(){return Log("API","checkDailyTaskList"),Ajax($data.checkDailyTaskURL,{user_id:$data.myID,game_id:$data.gameID})},e.checkAudienceList=function(){return Log("API","checkAudienceList"),Ajax($data.checkAudienceURL,{user_id:$data.myID})},e.checkChestKey=function(){return Log("API","checkChestKey"),Ajax($data.checkChestKeyURL,{user_id:$data.myID})},e.registerDailyTaskListener=function(){Wechat.onShow("registerDailyTaskListener",function(r){var t=r.query;$data.isDailyTaskLoginChecked||($data.isDailyTaskLoginChecked=!0,t.userID&&t.gameID&&"diamond"===t.type&&t.date===(new Date).toDateString().replace(/ /g,"x")&&e.sendDailyTaskInfo({user_id:$data.myID,game_id:t.gameID,belong_id:t.userID}),t.userID&&t.gameID&&"audience"===t.type&&e.addAudienceInfo({user_id:t.userID,view_id:$data.myID,type:"1"}),t.userID&&t.gameID&&"chest"===t.type&&e.checkChestKey().then(function(r){var a=r.data;e.sendChestKeyInfo({user_id:t.userID,other_id:$data.myID,type:"key",num:Number(a.key)+100})}),t.userID&&t.gameID&&"shopowner"===t.type&&e.sendDailyTaskForerver({user_id:$data.myID,game_id:t.gameID,belong_id:t.userID,index:t.index,managerMultiplier:t.managerMultiplier}))}),Wechat.onLaunch("registerDailyTaskListener",function(r){var t=r.query;$data.isDailyTaskLoginChecked||($data.isDailyTaskLoginChecked=!0,t.userID&&t.gameID&&"diamond"===t.type&&t.date===(new Date).toDateString().replace(/ /g,"x")&&e.sendDailyTaskInfo({user_id:$data.myID,game_id:t.gameID,belong_id:t.userID}),t.userID&&t.gameID&&"audience"===t.type&&e.addAudienceInfo({user_id:t.userID,view_id:$data.myID,type:"1"}),t.userID&&t.gameID&&"chest"===t.type&&e.checkChestKey().then(function(r){var a=r.data;e.sendChestKeyInfo({user_id:t.userID,other_id:$data.myID,type:"key",num:Number(a.key)+100})}),t.userID&&t.gameID&&"shopowner"===t.type&&e.sendDailyTaskForerver({user_id:$data.myID,game_id:t.gameID,belong_id:t.userID,index:t.index,managerMultiplier:t.managerMultiplier}))}),Wechat.onHide("registerDailyTaskListener",function(){$data.isDailyTaskLoginChecked=!1})},e.checkShareCount=function(e){return new Promise(function(r,t){Wechat.getShareInfo(e).then(function(e){var a=e.encryptedData,n=e.iv;Ajax($data.sameGroupURL,{encryptedData:a,iv:n,session_key:$data.wechatSessionKey,userId:$data.myID,gameId:$data.gameID,version:$data.gameVersion}).then(function(e){var a=e.error;0===a?r():(setTimeout(function(){Toast($i18n.share.limitReached)},500),t())})["catch"](function(e){t(e)})})["catch"](function(e){t(e)})})},e.sendDailyTaskForerver=function(e){return Log("API","sendDailyTaskForerver",e),Ajax($data.sendDailyTaskForerverURL,e)["catch"](function(e){return void e})},e.recruitShopowner=function(){return Log("API","recruitShopowner"),Ajax($data.dailyTasksURL,{user_id:$data.myID,game_id:$data.gameID})},e.obtainShopowner=function(e){return Log("API","obtainShopowner"),Ajax($data.fireManagerURL,{user_id:$data.myID,game_id:$data.gameID,index:e})},e}();__reflect(API.prototype,"API");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,r,t){function a(a){r.call(t,a,e)}if(RES.hasRes(e)){var n=RES.getRes(e);n?a(n):RES.getResAsync(e,a,this)}else RES.getResByUrl(e,a,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var AsyncAudioManager=function(){function e(){}return e.playMusic=function(r,t,a){if(e.isMusicAllowed){e.stopMusic();var n=e.$getMusic(r);n.obeyMuteSwitch=!0,t>0&&n.seek(Math.round(t)/1e3),0>=a?n.originalVolume=0:a>=1?n.originalVolume=1:n.originalVolume=a?a:1,n.volume=n.originalVolume*e.musicVolume,n.play(),Log("Audio","Play Music",r)}},e.playSound=function(r,t,a){if(e.isSoundAllowed){var n="M"+MD5(r);n in e.$soundTracks&&e.$soundTracks[n].stop();var i=e.$getSound(r);i.obeyMuteSwitch=!0,t>0&&i.seek(Math.round(t)/1e3),0>=a?i.originalVolume=0:a>=1?i.originalVolume=1:i.originalVolume=a?a:1,i.volume=i.originalVolume*e.soundVolume,i.play(),Log("Audio","Play Sound",r)}},e.playMultipleSound=function(r,t,a){if(e.isSoundAllowed){var n=e.$getMultipleSound(r);n.obeyMuteSwitch=!0,t>0&&n.seek(Math.round(t)/1e3),0>=a?n.originalVolume=0:a>=1?n.originalVolume=1:n.originalVolume=a?a:1,n.volume=n.originalVolume*e.soundVolume,n.play(),Log("Audio","Play Multiple Sound",r)}},e.playLoopMusic=function(r,t,a){if(e.isMusicAllowed){e.stopMusic();var n=e.$getMusic(r);n.obeyMuteSwitch=!0,n.loop=!0,t>0&&n.seek(Math.round(t)/1e3),0>=a?n.originalVolume=0:a>=1?n.originalVolume=1:n.originalVolume=a?a:1,n.volume=n.originalVolume*e.musicVolume,n.play(),Log("Audio","Play Loop Music",r)}},e.playMusicList=function(r,t,a){function n(){Log("Audio","Play list in loop mode",r[d]);var t=e.$getMusic(r[d++]);t.obeyMuteSwitch=!0,0>=a?t.originalVolume=0:a>=1?t.originalVolume=1:t.originalVolume=a?a:1,t.volume=t.originalVolume*e.musicVolume,t.play(),t.offEnded(),t.onEnded(function(){t.isPlaying=!1,d===r.length&&(d=0),t.offEnded(),t.onEnded(function(){t.isPlaying=!1}),n()}),t.offStop(),t.onStop(function(){t.offEnded(),t.onEnded(function(){t.isPlaying=!1})})}function i(){d=Math.random()*r.length|0,Log("Audio","Play list in random mode",r[d]);var t=e.$getMusic(r[d]);t.obeyMuteSwitch=!0,0>=a?t.originalVolume=0:a>=1?t.originalVolume=1:t.originalVolume=a?a:1,t.volume=t.originalVolume*e.musicVolume,t.play(),t.offEnded(),t.onEnded(function(){t.isPlaying=!1,t.offEnded(),t.onEnded(function(){t.isPlaying=!1}),i()}),t.offStop(),t.onStop(function(){t.offEnded(),t.onEnded(function(){t.isPlaying=!1})})}function o(t){d=t,Log("Audio","Play list in shuffle mode",r[d]);var n=e.$getMusic(r[d]);n.obeyMuteSwitch=!0,0>=a?n.originalVolume=0:a>=1?n.originalVolume=1:n.originalVolume=a?a:1,n.volume=n.originalVolume*e.musicVolume,n.play(),n.offEnded(),n.onEnded(function(){n.isPlaying=!1;for(var e=Math.random()*r.length|0;e===t;)e=Math.random()*r.length|0;n.offEnded(),n.onEnded(function(){n.isPlaying=!1}),o(e)}),n.offStop(),n.onStop(function(){n.offEnded(),n.onEnded(function(){n.isPlaying=!1})})}function s(){if(r.length>0){var t=r.shift();Log("Audio","Play list in order mode:",t);var n=e.$getMusic(t);n.obeyMuteSwitch=!0,0>=a?n.originalVolume=0:a>=1?n.originalVolume=1:n.originalVolume=a?a:1,n.volume=n.originalVolume*e.musicVolume,n.play(),n.offEnded(),n.onEnded(function(){n.isPlaying=!1,n.offEnded(),n.onEnded(function(){n.isPlaying=!1}),s()}),n.offStop(),n.onStop(function(){n.offEnded(),n.onEnded(function(){n.isPlaying=!1})})}else Log("Audio","Play list ended in order mode")}var d=0;if(e.isMusicAllowed){if(!(r.length>1))throw new Error("@Orchid: 列表 "+r+" 中的音乐数少于两首。");if(t===e.LOOP)e.stopMusic(),n();else if(t===e.RANDOM)d=Math.random()*r.length|0,e.stopMusic(),i();else if(t===e.ORDER)e.stopMusic(),s();
else{if(t!==e.SHUFFLE)throw new Error("@Orchid: 列表播放类型只能为 AsyncAudioManager.LOOP、AsyncAudioManager.RANDOM、AsyncAudioManager.SHUFFLE 或 AsyncAudioManager.ORDER。");e.stopMusic(),o(Math.random()*r.length|0)}}},e.stopMusic=function(r){if(r){var t="M"+MD5(r);t in e.$musicTracks&&e.$musicTracks[t].stop()}else Object.keys(e.$musicTracks).forEach(function(r){return e.$musicTracks[r].stop()})},e.stopSound=function(r){if(r){var t="M"+MD5(r);if(t in e.$soundTracks)e.$soundTracks[t].stop();else if(t in e.$multipleSoundTracks)for(var a=0;8>a;a++)e.$multipleSoundTracks[t].content[a].stop()}else Object.keys(e.$soundTracks).forEach(function(r){return e.$soundTracks[r].stop()}),Object.keys(e.$multipleSoundTracks).forEach(function(r){return e.$multipleSoundTracks[r].content.forEach(function(e){return e.stop()})})},e.setMusicVolume=function(r,t){if(t){var a="M"+MD5(t);a in e.$musicTracks&&(e.$musicTracks[a].originalVolume=r,e.$musicTracks[a].volume=e.$musicTracks[a].originalVolume*e.musicVolume)}else e.musicVolume=r},e.setSoundVolume=function(r,t){if(t){var a="M"+MD5(t);if(a in e.$soundTracks)e.$soundTracks[a].originalVolume=r,e.$soundTracks[a].volume=r*e.soundVolume;else if(a in e.$multipleSoundTracks)for(var n=0;8>n;n++)e.$multipleSoundTracks[a].content[n].originalVolume=r,e.$multipleSoundTracks[a].content[n].volume=r*e.soundVolume}else e.soundVolume=r},e.pauseMusic=function(r){if(r){var t="M"+MD5(r);t in e.$musicTracks&&e.$musicTracks[t].pause()}else Object.keys(e.$musicTracks).forEach(function(r){return e.$musicTracks[r].pause()})},e.pauseSound=function(r){if(r){var t="M"+MD5(r);if(t in e.$soundTracks)e.$soundTracks[t].pause();else if(t in e.$multipleSoundTracks)for(var a=0;8>a;a++)e.$multipleSoundTracks[t].content[a].pause()}else Object.keys(e.$soundTracks).forEach(function(r){return e.$soundTracks[r].pause()}),Object.keys(e.$multipleSoundTracks).forEach(function(r){return e.$multipleSoundTracks[r].content.forEach(function(e){return e.pause()})})},e.resumeMusic=function(r){if(r){var t="M"+MD5(r);t in e.$musicTracks&&e.$musicTracks[t].isPlaying&&e.$musicTracks[t].play()}else Object.keys(e.$musicTracks).forEach(function(r){e.$musicTracks[r].isPlaying&&e.$musicTracks[r].play()})},e.resumeSound=function(r){if(r){var t="M"+MD5(r);if(t in e.$soundTracks&&e.$soundTracks[t].isPlaying)e.$soundTracks[t].play();else if(t in e.$multipleSoundTracks)for(var a=0;8>a;a++)e.$multipleSoundTracks[t].content[a].isPlaying&&e.$multipleSoundTracks[t].content[a].play()}else Object.keys(e.$soundTracks).forEach(function(r){e.$soundTracks[r].isPlaying&&e.$soundTracks[r].play()}),Object.keys(e.$multipleSoundTracks).forEach(function(r){return e.$multipleSoundTracks[r].content.forEach(function(e){e.isPlaying&&e.play()})})},e.removeMusic=function(r){e.$removeMusic(r)},e.removeSound=function(r){e.$removeSound(r)},e.removeMultipleSound=function(r){e.$removeMultipleSound(r)},e.onPause=function(){Object.keys(e.$musicTracks).forEach(function(r){e.$musicTracks[r].isPlaying&&!e.$musicTracks[r].isPaused&&(e.$musicTracks[r].isInterrupted=!0,e.$musicTracks[r].pause())}),Object.keys(e.$soundTracks).forEach(function(r){e.$soundTracks[r].isPlaying&&!e.$soundTracks[r].isPaused&&(e.$soundTracks[r].isInterrupted=!0,e.$soundTracks[r].pause())}),Object.keys(e.$multipleSoundTracks).forEach(function(r){return e.$multipleSoundTracks[r].content.forEach(function(e){e.isPlaying&&!e.isPaused&&(e.isInterrupted=!0,e.pause())})})},e.onResume=function(){Object.keys(e.$musicTracks).forEach(function(r){e.$musicTracks[r].isInterrupted&&(e.$musicTracks[r].isInterrupted=!1,e.$musicTracks[r].play())}),Object.keys(e.$soundTracks).forEach(function(r){e.$soundTracks[r].isInterrupted&&(e.$soundTracks[r].isInterrupted=!1,e.$soundTracks[r].play())}),Object.keys(e.$multipleSoundTracks).forEach(function(r){return e.$multipleSoundTracks[r].content.forEach(function(e){e.isInterrupted&&(e.isInterrupted=!1,e.play())})})},e.$getMusic=function(r){var t="M"+MD5(r);return t in e.$musicTracks?e.$musicTracks[t]:(e.$musicTracks[t]=Wechat.createInnerAudioContext(),e.$musicTracks[t].src=e.$resolveSrc(r),e.$musicTracks[t].onPlay(function(){e.$musicTracks[t].isPlaying=!0,e.$musicTracks[t].isPaused=!1}),e.$musicTracks[t].onStop(function(){return e.$musicTracks[t].isPlaying=!1}),e.$musicTracks[t].onEnded(function(){return e.$musicTracks[t].isPlaying=!1}),e.$musicTracks[t].onPause(function(){return e.$musicTracks[t].isPaused=!0}),e.$musicTracks[t])},e.$getSound=function(r){var t="M"+MD5(r);return t in e.$soundTracks?e.$soundTracks[t]:(e.$soundTracks[t]=Wechat.createInnerAudioContext(),e.$soundTracks[t].src=e.$resolveSrc(r),e.$soundTracks[t].onPlay(function(){e.$soundTracks[t].isPlaying=!0,e.$soundTracks[t].isPaused=!1}),e.$soundTracks[t].onStop(function(){return e.$soundTracks[t].isPlaying=!1}),e.$soundTracks[t].onEnded(function(){return e.$soundTracks[t].isPlaying=!1}),e.$soundTracks[t].onPause(function(){return e.$soundTracks[t].isPaused=!0}),e.$soundTracks[t])},e.$getMultipleSound=function(r){var t="M"+MD5(r);if(t in e.$multipleSoundTracks)return e.$multipleSoundTracks[t].count++,e.$multipleSoundTracks[t].content[e.$multipleSoundTracks[t].count%8];e.$multipleSoundTracks[t]={count:0,content:[]};for(var a=function(a){e.$multipleSoundTracks[t].content[a]=Wechat.createInnerAudioContext(),e.$multipleSoundTracks[t].content[a].src=e.$resolveSrc(r),e.$multipleSoundTracks[t].content[a].onPlay(function(){e.$multipleSoundTracks[t].content[a].isPlaying=!0,e.$multipleSoundTracks[t].content[a].isPaused=!1}),e.$multipleSoundTracks[t].content[a].onStop(function(){return e.$multipleSoundTracks[t].content[a].isPlaying=!1}),e.$multipleSoundTracks[t].content[a].onEnded(function(){return e.$multipleSoundTracks[t].content[a].isPlaying=!1}),e.$multipleSoundTracks[t].content[a].onPause(function(){return e.$multipleSoundTracks[t].content[a].isPaused=!0})},n=0;8>n;n++)a(n);return e.$multipleSoundTracks[t].content[0]},e.$removeMusic=function(r){var t="M"+MD5(r);t in e.$musicTracks&&(e.$musicTracks[t].stop(),e.$musicTracks[t].offPlay(),e.$musicTracks[t].offStop(),e.$musicTracks[t].offEnded(),e.$musicTracks[t].offPause(),e.$musicTracks[t].destroy(),delete e.$musicTracks[t])},e.$removeSound=function(r){var t="M"+MD5(r);t in e.$soundTracks&&(e.$soundTracks[t].stop(),e.$soundTracks[t].offPlay(),e.$soundTracks[t].offStop(),e.$soundTracks[t].offEnded(),e.$soundTracks[t].offPause(),e.$soundTracks[t].destroy(),delete e.$soundTracks[t])},e.$removeMultipleSound=function(r){var t="M"+MD5(r);if(t in e.$multipleSoundTracks){for(var a=0;8>a;a++)e.$multipleSoundTracks[t].content[a].stop(),e.$multipleSoundTracks[t].content[a].offPlay(),e.$multipleSoundTracks[t].content[a].offStop(),e.$multipleSoundTracks[t].content[a].offEnded(),e.$multipleSoundTracks[t].content[a].offPause(),e.$multipleSoundTracks[t].content[a].destroy(),delete e.$multipleSoundTracks[t].content[a];delete e.$multipleSoundTracks[t]}},e.$resolveSrc=function(e){return e.match(/_mp3$/)&&-1===e.indexOf("/")?"resource/sound/"+e.replace("_","."):e},e.LOOP="LOOP",e.RANDOM="RANDOM",e.ORDER="ORDER",e.SHUFFLE="SHUFFLE",e.isMusicAllowed=!0,e.isSoundAllowed=!0,e.musicVolume=1,e.soundVolume=1,e.$config=[!0,!0,1,1,1,1],e.$musicTracks={},e.$soundTracks={},e.$multipleSoundTracks={},e}();__reflect(AsyncAudioManager.prototype,"AsyncAudioManager"),Object.defineProperty(AsyncAudioManager,"isMusicAllowed",{get:function(){return AsyncAudioManager.$config[0]},set:function(e){AsyncAudioManager.$config[0]!==!0||e||(AsyncAudioManager.$config[0]=e?!0:!1,AsyncAudioManager.$config[4]=AsyncAudioManager.$config[2],AsyncAudioManager.musicVolume=0),AsyncAudioManager.$config[0]===!1&&e&&(AsyncAudioManager.$config[0]=e?!0:!1,AsyncAudioManager.musicVolume=AsyncAudioManager.$config[4])},enumerable:!0,configurable:!1}),Object.defineProperty(AsyncAudioManager,"isSoundAllowed",{get:function(){return AsyncAudioManager.$config[1]},set:function(e){AsyncAudioManager.$config[1]!==!0||e||(AsyncAudioManager.$config[1]=e?!0:!1,AsyncAudioManager.$config[5]=AsyncAudioManager.$config[3],AsyncAudioManager.soundVolume=0),AsyncAudioManager.$config[1]===!1&&e&&(AsyncAudioManager.$config[1]=e?!0:!1,AsyncAudioManager.soundVolume=AsyncAudioManager.$config[5])},enumerable:!0,configurable:!1}),Object.defineProperty(AsyncAudioManager,"musicVolume",{get:function(){return AsyncAudioManager.$config[2]},set:function(e){AsyncAudioManager.isMusicAllowed&&AsyncAudioManager.musicVolume!==e?(0>=e?AsyncAudioManager.$config[2]=0:e>=1?AsyncAudioManager.$config[2]=1:AsyncAudioManager.$config[2]=e?e:1,Object.keys(AsyncAudioManager.$musicTracks).forEach(function(e){return AsyncAudioManager.$musicTracks[e].volume=AsyncAudioManager.$musicTracks[e].originalVolume*AsyncAudioManager.musicVolume})):AsyncAudioManager.isMusicAllowed||0!==e||(AsyncAudioManager.$config[2]=0,Object.keys(AsyncAudioManager.$musicTracks).forEach(function(e){return AsyncAudioManager.$musicTracks[e].volume=0}))},enumerable:!0,configurable:!1}),Object.defineProperty(AsyncAudioManager,"soundVolume",{get:function(){return AsyncAudioManager.$config[3]},set:function(e){AsyncAudioManager.isSoundAllowed&&AsyncAudioManager.soundVolume!==e?(0>=e?AsyncAudioManager.$config[3]=0:e>=1?AsyncAudioManager.$config[3]=1:AsyncAudioManager.$config[3]=e?e:1,Object.keys(AsyncAudioManager.$soundTracks).forEach(function(e){return AsyncAudioManager.$soundTracks[e].volume=AsyncAudioManager.$soundTracks[e].originalVolume*AsyncAudioManager.soundVolume}),Object.keys(AsyncAudioManager.$multipleSoundTracks).forEach(function(e){return AsyncAudioManager.$multipleSoundTracks[e].content.forEach(function(e){return e.volume=e.originalVolume*AsyncAudioManager.soundVolume})})):AsyncAudioManager.isSoundAllowed||0!==e||(AsyncAudioManager.$config[3]=0,Object.keys(AsyncAudioManager.$soundTracks).forEach(function(e){return AsyncAudioManager.$soundTracks[e].volume=0}),Object.keys(AsyncAudioManager.$multipleSoundTracks).forEach(function(e){return AsyncAudioManager.$multipleSoundTracks[e].content.forEach(function(e){return e.volume=0})}))},enumerable:!0,configurable:!1}),window.AsyncAudioManager=AsyncAudioManager;var AudioManager=function(){function e(){}return e.playLoop=function(r){if(e.isMusicAllowed){e.stopMusic(),Log("Audio","Play music in loop:",r);try{e.backgroundMusicChannel=RES.getRes(r).play(0,0)}catch(t){}}},e.playMusic=function(r,t){if(e.isMusicAllowed){e.stopMusic(),Log("Audio","Play music:",r);try{e.backgroundMusicChannel=RES.getRes(r).play(t/1e3||0,1)}catch(a){}}},e.playMusicList=function(r,t){function a(){e.stopMusic(),Log("Audio","Play list:",r[o],"in loop mode");try{e.backgroundMusicChannel=RES.getRes(r[o++]).play(0,1)}catch(t){}e.backgroundMusicChannel.once(egret.Event.SOUND_COMPLETE,function(){o===r.length&&(o=0),a()},e.backgroundMusicChannel)}function n(){e.stopMusic(),Log("Audio","Play list:",r[o],"in random mode");try{e.backgroundMusicChannel=RES.getRes(r[o]).play(0,1)}catch(t){}e.backgroundMusicChannel.once(egret.Event.SOUND_COMPLETE,function(){var e;e=r[r.length-1],r[r.length-1]=r[o],r[o]=e,o=Math.random()*r.length-1|0,n()},e.backgroundMusicChannel)}function i(){if(e.stopMusic(),r.length>0){var t=r.shift();Log("Audio","Play list:",t,"in once mode");try{e.backgroundMusicChannel=RES.getRes(t).play(0,1)}catch(a){}e.backgroundMusicChannel.once(egret.Event.SOUND_COMPLETE,function(){i()},e.backgroundMusicChannel)}else Log("Audio","Play list end in once mode")}var o=0;if(e.isMusicAllowed){if(!(r.length>0))throw new Error("@Orchid: 在列表 "+r+" 中没有找到音乐。");if(t===e.LOOP)a();else if(t===e.RANDOM)o=Math.random()*r.length|0,n();else{if(t!==e.ONCE)throw new Error("@Orchid: 列表播放类型只能为 AudioManager.LOOP、AudioManager.RANDOM 或 AudioManager.ONCE。");i()}}},e.stopMusic=function(){if(e.backgroundMusicChannel){Log("Audio","Stop music");try{e.backgroundMusicChannel.stop()}catch(r){}e.backgroundMusicChannel=null}},e.playSound=function(r,t){if(e.isSoundAllowed){Log("Audio","Play sound:",r,"at channel",e.soundChannelList.playCount%8);var a="channel"+e.soundChannelList.playCount++%8;try{e.soundChannelList[a]=RES.getRes(r).play(t/1e3||0,1)}catch(n){}}},e.stopSound=function(){if(e.soundChannelList){Log("Audio","Stop sound(s)");var r=["channel0","channel1","channel2","channel3","channel4","channel5","channel6","channel7"];r.forEach(function(r){if(e.soundChannelList[r]){try{e.soundChannelList[r].stop()}catch(t){}e.soundChannelList[r]=null}})}},e.LOOP="LOOP",e.RANDOM="RANDOM",e.ONCE="ONCE",e.isSoundAllowed=!0,e.isMusicAllowed=!0,e.backgroundMusicChannel=null,e.backgroundMusicChannelPosition=0,e.soundChannelList={channel0:null,channel1:null,channel2:null,channel3:null,channel4:null,channel5:null,channel6:null,channel7:null,playCount:0},e}();__reflect(AudioManager.prototype,"AudioManager");var _a=function(){var e={loading:null,game:null,brand:null,setUp:null,gameOver:null,Loading:Loading,Game:Game,Brand:Brand,SetUp:SetUp,GameOver:GameOver};Object.defineProperties(e,{Loading:{enumerable:!1,writable:!1,configurable:!1},Game:{enumerable:!1,writable:!1,configurable:!1}});var r=function(r){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var n=r[0].toLowerCase().concat(r.slice(1)),i=e[r],o=e[n];if(null!==o)throw void 0===o?new Error("@Orchid: "+r+" 不是合法的视图名。"):new Error("@Orchid: 视图 "+r+" 已经存在。");e[n]=new(i.bind.apply(i,[void 0].concat(t))),$stage.addChild(e[n]),e[n].once(egret.Event.REMOVED_FROM_STAGE,function(){e[n]=null},e[n]),Log("View","Created -",r,$stage.$children)},t=function(r){var t=r[0].toLowerCase().concat(r.slice(1)),a=(e[r],e[t]);null!==a&&void 0!==a&&($stage.removeChild(a),Log("View","Destroyed -",r,$stage.$children))};return[r,t,e]}(),$create=_a[0],$destroy=_a[1],$view=_a[2],_b=function(){var e={};Object.keys($data).filter(function(e){return"languageMap"!==e}).forEach(function(r){e[r]=null});var r=function(r,a,n){if(!(n instanceof egret.DisplayObject))throw new Error("@Orchid: 传入的 this 对象必须是 egret.DisplayObject 的实例。");if(-1===Object.keys(e).indexOf(r))throw new Error("@Orchid: 在 $data 中没有找到属性 "+r+"。");null===e[r]&&(e[r]={value:$data[r],callbackList:[],thisObjectList:[]},Object.defineProperty($data,r,{get:function(){return e[r].value},set:function(t){var a=e[r].value;e[r].value=t,e[r].callbackList.forEach(function(n,i){n.call(e[r].thisObjectList[i],t,a)})},configurable:!0,enumerable:!0})),e[r].callbackList.push(a),e[r].thisObjectList.push(n),n.once(egret.Event.REMOVED_FROM_STAGE,function(){t(r,a,n)},null),$data[r]=$data[r],Log("Data","Bound - "+r+"("+e[r].callbackList.length+")")},t=function(r,t,a){if(!(a instanceof egret.DisplayObject))throw new Error("@Orchid: 传入的 this 对象必须是 egret.DisplayObject 的实例。");if(-1===Object.keys(e).indexOf(r))throw new Error("@Orchid: 在 $data 中没有找到属性 "+r+"。");if(null!==e[r]){var n=e[r].callbackList.indexOf(t);-1!==n&&(e[r].callbackList.splice(n,1),e[r].thisObjectList.splice(n,1)),0===e[r].callbackList.length&&(Object.defineProperty($data,r,{value:e[r].value,writable:!0,configurable:!0,enumerable:!0}),e[r]=null),Log("Data","Unbound - "+r+"("+(null===e[r]?"Empty":e[r].callbackList.length)+")")}};return[r,t]}(),$bind=_b[0],$unbind=_b[1],$hub=new egret.EventDispatcher,$dispatch=function(e,r){void 0!==r?(Log("Event","Dispatched -",e,r),$hub.dispatchEvent(new egret.Event(e,!1,!1,r))):(Log("Event","Dispatched -",e),$hub.dispatchEvent(new egret.Event(e,!1,!1)))},$register=function(e,r,t){if(!(t instanceof egret.DisplayObject))throw new Error("@Orchid: 传入的 this 对象必须是 egret.DisplayObject 的实例。");Log("Event","Registered -",e),$hub.addEventListener(e,r,t),t.once(egret.Event.REMOVED_FROM_STAGE,function(){$cancel(e,r,t)},null)},$once=function(e,r,t){if(!(t instanceof egret.DisplayObject))throw new Error("@Orchid: 传入的 this 对象必须是 egret.DisplayObject 的实例。");Log("Event","Registered Once -",e),$hub.once(e,r,t),t.once(egret.Event.REMOVED_FROM_STAGE,function(){$cancel(e,r,t)},null)},$cancel=function(e,r,t){Log("Event","Cancelled -",e),$hub.removeEventListener(e,r,t)};window.$create=$create,window.$destroy=$destroy,window.$view=$view,window.$bind=$bind,window.$unbind=$unbind,window.$hub=$hub,window.$dispatch=$dispatch,window.$register=$register,window.$once=$once,window.$cancel=$cancel;var $i18n=$data.languageMap["zh-CN"],I18n=function(e){function r(e){var r=$data.languageMap[e];if(!r)throw new Error("@Orchid: 在 $data.languageMap 中没有找到 "+e+" 的配置，请检查 $data.languageMap 中是否存在该语种。")}if(this instanceof I18n)throw new Error("@Orchid: 类 I18n 无法实例化，请直接通过静态方法或构造函数的方式调用。");switch(e){case"zh-CN":r("zh-CN");break;case"en-US":r("en-US");break;default:throw new Error("@Orchid: 参数 language 的合法值不包括 "+e+"，请使用 'zh-CN' 或 'en-US'。")}};window.I18n=I18n,window.$i18n=$i18n;var Integer=function(e){return new Big(e).toChineseString()};Integer.plus=function(e,r){return new Big(e).plus(r).toString()},Integer.minus=function(e,r){return new Big(e).minus(r).toString()},Integer.multiply=function(e,r){return new Big(e).mul(r).toString()},Integer.divideBy=function(e,r){return new Big(e).div(r).toString()},Integer.compare=function(e,r){return new Big(e).cmp(r)},window.Integer=Integer;var Toast=function(e,r,t){function a(){egret.Tween.removeTweens(n),egret.Tween.get(n).to({alpha:0},200,egret.Ease.sineOut).call(function(){$stage.removeChild(n)})}if("金币不足"!==e||$data.hasSpecialGuideTriggered||$data.isShareLocked)if("金币不足"!==e||$data.isShareLocked){var n=new egret.Sprite;n.touchEnabled=!0,n.x=375,n.y=1260,n.anchorOffsetX=275,n.anchorOffsetY=32,n.width=550,n.height=64,n.alpha=0,n.scaleX=.9,n.scaleY=.9;var i=new eui.Label;i.text=e,i.multiline=!0,i.touchEnabled=!1,i.size=32,i.textColor=15790320,i.stroke=1,i.strokeColor=1118481,i.touchEnabled=!1,i.x=50,i.y=-32,i.width=450,i.height=128,i.textAlign=egret.HorizontalAlign.CENTER,i.verticalAlign=egret.VerticalAlign.MIDDLE,n.addChild(i),"light"===r?(i.textColor=1118481,i.strokeColor=15790320,n.graphics.beginFill(16777215),n.graphics.drawRoundRect(0,-(i.textHeight-32)/2,550,i.textHeight+32,i.textHeight+32,i.textHeight+32),n.graphics.endFill()):"simple"===r?(i.size=28,i.lineSpacing=10,i.stroke=2):"rect"===r?(i.textColor=1118481,i.strokeColor=15790320,n.graphics.beginFill(16777215),n.graphics.drawRect(0,-(i.textHeight-32)/2,550,i.textHeight+32),n.graphics.endFill()):(n.graphics.beginFill(0),n.graphics.drawRoundRect(0,-(i.textHeight-32)/2,550,i.textHeight+32,i.textHeight+32,i.textHeight+32),n.graphics.endFill()),egret.Tween.get(n).to({alpha:.8,scaleX:1,scaleY:1,y:1200},200,egret.Ease.sineIn).wait(t?t:2500).to({y:1050,alpha:0,scaleX:.98,scaleY:.98},1e3,egret.Ease.sineOut).call(function(){n.removeEventListener(egret.TouchEvent.TOUCH_TAP,a,n),$stage.removeChild(n)}),n.once(egret.TouchEvent.TOUCH_TAP,a,n),$stage.addChild(n)}else;else;};window.Toast=Toast;var MD5=function(e){function r(e,r){return e<<r|e>>>32-r}function t(e,r){var t,a,n,i,o;return n=2147483648&e,i=2147483648&r,t=1073741824&e,a=1073741824&r,o=(1073741823&e)+(1073741823&r),t&a?2147483648^o^n^i:t|a?1073741824&o?3221225472^o^n^i:1073741824^o^n^i:o^n^i}function a(e,r,t){return e&r|~e&t}function n(e,r,t){return e&t|r&~t}function i(e,r,t){return e^r^t}function o(e,r,t){return r^(e|~t)}function s(e,n,i,o,s,d,c){return e=t(e,t(t(a(n,i,o),s),c)),t(r(e,d),n)}function d(e,a,i,o,s,d,c){return e=t(e,t(t(n(a,i,o),s),c)),t(r(e,d),a)}function c(e,a,n,o,s,d,c){return e=t(e,t(t(i(a,n,o),s),c)),t(r(e,d),a)}function u(e,a,n,i,s,d,c){return e=t(e,t(t(o(a,n,i),s),c)),t(r(e,d),a)}function h(e){for(var r,t=e.length,a=t+8,n=(a-a%64)/64,i=16*(n+1),o=Array(i-1),s=0,d=0;t>d;)r=(d-d%4)/4,s=d%4*8,o[r]=o[r]|e.charCodeAt(d)<<s,d++;return r=(d-d%4)/4,s=d%4*8,o[r]=o[r]|128<<s,o[i-2]=t<<3,o[i-1]=t>>>29,o}function l(e){var r,t,a="",n="";for(t=0;3>=t;t++)r=e>>>8*t&255,n="0"+r.toString(16),a+=n.substr(n.length-2,2);return a}function g(e){e=e.replace(/\r\n/g,"\n");for(var r="",t=0;t<e.length;t++){var a=e.charCodeAt(t);128>a?r+=String.fromCharCode(a):a>127&&2048>a?(r+=String.fromCharCode(a>>6|192),r+=String.fromCharCode(63&a|128)):(r+=String.fromCharCode(a>>12|224),r+=String.fromCharCode(a>>6&63|128),r+=String.fromCharCode(63&a|128))}return r}var p,f,y,w,m,A,v,C,x,I=Array(),T=7,$=12,b=17,L=22,M=5,E=9,k=14,S=20,O=4,G=11,D=16,_=23,P=6,R=10,N=15,F=21;for(e=g(e),I=h(e),A=1732584193,v=4023233417,C=2562383102,x=271733878,p=0;p<I.length;p+=16)f=A,y=v,w=C,m=x,A=s(A,v,C,x,I[p+0],T,3614090360),x=s(x,A,v,C,I[p+1],$,3905402710),C=s(C,x,A,v,I[p+2],b,606105819),v=s(v,C,x,A,I[p+3],L,3250441966),A=s(A,v,C,x,I[p+4],T,4118548399),x=s(x,A,v,C,I[p+5],$,1200080426),C=s(C,x,A,v,I[p+6],b,2821735955),v=s(v,C,x,A,I[p+7],L,4249261313),A=s(A,v,C,x,I[p+8],T,1770035416),x=s(x,A,v,C,I[p+9],$,2336552879),C=s(C,x,A,v,I[p+10],b,4294925233),v=s(v,C,x,A,I[p+11],L,2304563134),A=s(A,v,C,x,I[p+12],T,1804603682),x=s(x,A,v,C,I[p+13],$,4254626195),C=s(C,x,A,v,I[p+14],b,2792965006),v=s(v,C,x,A,I[p+15],L,1236535329),A=d(A,v,C,x,I[p+1],M,4129170786),x=d(x,A,v,C,I[p+6],E,3225465664),C=d(C,x,A,v,I[p+11],k,643717713),v=d(v,C,x,A,I[p+0],S,3921069994),A=d(A,v,C,x,I[p+5],M,3593408605),x=d(x,A,v,C,I[p+10],E,38016083),C=d(C,x,A,v,I[p+15],k,3634488961),v=d(v,C,x,A,I[p+4],S,3889429448),A=d(A,v,C,x,I[p+9],M,568446438),x=d(x,A,v,C,I[p+14],E,3275163606),C=d(C,x,A,v,I[p+3],k,4107603335),v=d(v,C,x,A,I[p+8],S,1163531501),A=d(A,v,C,x,I[p+13],M,2850285829),x=d(x,A,v,C,I[p+2],E,4243563512),C=d(C,x,A,v,I[p+7],k,1735328473),v=d(v,C,x,A,I[p+12],S,2368359562),A=c(A,v,C,x,I[p+5],O,4294588738),x=c(x,A,v,C,I[p+8],G,2272392833),C=c(C,x,A,v,I[p+11],D,1839030562),v=c(v,C,x,A,I[p+14],_,4259657740),A=c(A,v,C,x,I[p+1],O,2763975236),x=c(x,A,v,C,I[p+4],G,1272893353),C=c(C,x,A,v,I[p+7],D,4139469664),v=c(v,C,x,A,I[p+10],_,3200236656),A=c(A,v,C,x,I[p+13],O,681279174),x=c(x,A,v,C,I[p+0],G,3936430074),C=c(C,x,A,v,I[p+3],D,3572445317),v=c(v,C,x,A,I[p+6],_,76029189),A=c(A,v,C,x,I[p+9],O,3654602809),x=c(x,A,v,C,I[p+12],G,3873151461),C=c(C,x,A,v,I[p+15],D,530742520),v=c(v,C,x,A,I[p+2],_,3299628645),A=u(A,v,C,x,I[p+0],P,4096336452),x=u(x,A,v,C,I[p+7],R,1126891415),C=u(C,x,A,v,I[p+14],N,2878612391),v=u(v,C,x,A,I[p+5],F,4237533241),A=u(A,v,C,x,I[p+12],P,1700485571),x=u(x,A,v,C,I[p+3],R,2399980690),C=u(C,x,A,v,I[p+10],N,4293915773),v=u(v,C,x,A,I[p+1],F,2240044497),A=u(A,v,C,x,I[p+8],P,1873313359),x=u(x,A,v,C,I[p+15],R,4264355552),C=u(C,x,A,v,I[p+6],N,2734768916),v=u(v,C,x,A,I[p+13],F,1309151649),A=u(A,v,C,x,I[p+4],P,4149444226),x=u(x,A,v,C,I[p+11],R,3174756917),C=u(C,x,A,v,I[p+2],N,718787259),v=u(v,C,x,A,I[p+9],F,3951481745),A=t(A,f),v=t(v,y),C=t(C,w),x=t(x,m);var U=l(A)+l(v)+l(C)+l(x);return U.toLowerCase()},Statistics=function(){function e(){}return e}();__reflect(Statistics.prototype,"Statistics");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,r,t,a){function n(e){r.call(a,e)}function i(r){r.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),t.call(a))}"undefined"!=typeof generateEUI?egret.callLater(function(){r.call(a,generateEUI)},this):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_TEXT))},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Wechat=function(){function e(){}return e.getShareInfo=function(e){return new Promise(function(r,t){window.wx.getShareInfo({shareTicket:e,success:function(e){r({encryptedData:e.encryptedData,iv:e.iv})},fail:function(e){t(e)}})})},e.onShow=function(r,t){e.$onShowContext[r]=t},e.onHide=function(r,t){e.$onHideContext[r]=t},e.onLaunch=function(r,t){e.$onLaunchContext[r]=t},e.checkOnLaunchOption=function(){var r=Object.keys(e.$onLaunchContext),t=window.wx.getLaunchOptionsSync();Log("Wechat","Check Launch -",r,t),r.forEach(function(r){return e.$onLaunchContext[r](t)})},e.offShow=function(r){delete e.$onShowContext[r]},e.offHide=function(r){delete e.$onHideContext[r]},e.offLaunch=function(r){delete e.$onLaunchContext[r]},e.createUserInfoButton=function(e,r){window.wx&&window.wx.getUserInfo({success:e,fail:function(t){var a=window.wx.createUserInfoButton({type:"text",text:" ",style:{left:0,top:0,width:$data.deviceIndependentPixelWidth,height:$data.deviceIndependentPixelHeight}});a.onTap(function(r){r.rawData&&(e(),a.destroy())}),r()}})},e.login=function(){var e="login";return window.wx?new Promise(function(r,t){window.wx.login({success:function(t){Log("Wechat",e,t),r(t.code)},fail:function(r){Log("Wechat",e,r),t(r)}})}):void 0},e.getSystemInfoSync=function(){return window.wx?window.wx.getSystemInfoSync():{language:"zh_CN",system:"iOS 11.0.1"}},e.getUserInfo=function(){var e="getUserInfo";return window.wx?new Promise(function(r,t){window.wx.getUserInfo({success:function(t){Log("Wechat",e,t),r(t)},fail:function(r){Log("Wechat",e,r),t(r)}})}):void 0},e.authorize=function(e){return window.wx?new Promise(function(r,t){window.wx.authorize({scope:e,success:function(e){r(e)},fail:function(e){t(e)}})}):void 0},e.getSetting=function(){return window.wx?new Promise(function(e,r){window.wx.getSetting({success:function(r){e(r.authSetting)},fail:function(e){r(e)}})}):void 0},e.getOpenDataContext=function(){return window.wx?window.wx.getOpenDataContext():void 0},e.setUserCloudStorage=function(e,r){var t="setUserCloudStorage";return window.wx?new Promise(function(a,n){window.wx.setUserCloudStorage({KVDataList:[{key:e,value:r}],success:function(n){Log("Wechat",t,e,r,n),a(n)},fail:function(a){Log("Wechat",t+"(Error)",e,r,a),n(a)}})}):void 0},e.onShareAppMessage=function(e){var r="onShareAppMessage";return window.wx?new Promise(function(t,a){window.wx.onShareAppMessage(function(n){var i=Object.keys($data.languageMap["zh-CN"]).filter(function(e){return e.match(/^wechatShareTitle\d+$/)}).length,o=Math.random()*i|0;return{title:$i18n.share.commonShareText[Math.floor(Math.random()*$i18n.share.commonShareText.length)],imageUrl:$data.shareImageMap.shareCommonImage[Math.floor(Math.random()*$data.shareImageMap.shareCommonImage.length)],query:e,complete:function(e){Log("Wechat",r,o+1+"/"+i,e),e.errMsg.match(/ok$/)?e.shareTickets?t(e.shareTickets[0]):t():a()}}})}):void 0},e.showShareMenu=function(){var e="showShareMenu";return window.wx?window.wx.showShareMenu({withShareTicket:!0,complete:function(r){Log("Wechat",e)}}):void 0},e.shareAppMessage=function(e){if(window.wx&&!$data.isShareLocked){if(e){var r,t,a=e.match(/(^|&)type=.+?(?=(&|$))/)[0].split("=")[1];switch(r=$i18n.share.commonShareText[Math.floor(Math.random()*$i18n.share.commonShareText.length)],t=$data.shareImageMap.shareCommonImage[Math.floor(Math.random()*$data.shareImageMap.shareCommonImage.length)],a){case"shareMultiplier":break;case"getDiamondByShare":break;case"offlineIncomeShare":break;case"newShopDiamondShare":var n=$data.chessboardStatus.length-3;r=$i18n.share.unlockShopDisplay.replace("%NAME%",$data.shopName[n]),t="https://wx.vvppw.com/static/money_image/store00"+(n+1)+".png";break;case"diamond":break;case"shopowner":var i=e.match(/(^|&)shopIndex=.+?(?=(&|$))/)[0].split("=")[1];r=$i18n.share.recruitStoreManager.replace("%NAME%",$data.shopName[i]),t="https://wx.vvppw.com/static/money_image/store00"+(Number(i)+1)+".png"}return new Promise(function(a,n){window.wx.shareAppMessage({title:r,imageUrl:t,query:e})})}return new Promise(function(e,r){window.wx.shareAppMessage({title:$i18n.share.commonShareText[Math.floor(Math.random()*$i18n.share.commonShareText.length)],imageUrl:$data.shareImageMap.shareCommonImage[Math.floor(Math.random()*$data.shareImageMap.shareCommonImage.length)]})})}Toast("功能暂未开放")},e.shareCarMessage=function(e){return window.wx?new Promise(function(r,t){window.wx.shareAppMessage({title:$data.myName+"一掷千金，喜提"+e+"级超级跑车一辆！",imageUrl:"https://wx.vvppw.com/static/car_image/car--parking-"+(e%50===0?50:e%50)+".png"})}):void 0},e.shareLevelUpMessage=function(e){return window.wx?new Promise(function(r,t){window.wx.shareAppMessage({title:$data.myName+"财大气粗，喜获"+e+"级新赛车场！",imageUrl:"https://wx.vvppw.com/static/car_image/s"+((6*Math.random()|0)+1)+".png"})}):void 0},e.shareCardMessage=function(e){return window.wx?new Promise(function(r,t){window.wx.shareAppMessage({title:$data.myName+"的专属金币卡！",imageUrl:"resource/shareCard.jpg",query:e})}):void 0},e.createBannerAd=function(e){var r="createBannerAd";return window.wx?(Log("Wechat",r),window.wx.createBannerAd({adUnitId:e||$data.wechatBannerUnitID,style:{left:0,top:0,width:300}})):void 0},e.createRewardedVideoAd=function(e){var r="createRewardedVideoAd";return window.wx?(Log("Wechat",r),window.wx.createRewardedVideoAd({adUnitId:e||$data.wechatVideoUnitID})):void 0},e.createGameClubButton=function(r,t,a,n){var i="createGameClubButton";window.wx&&!e.gameClubButton&&(Log("Wechat",i,$data.screenFitOffsetTop,$data.screenFitOffsetBottom),e.gameClubButton=window.wx.createGameClubButton({type:"text",text:"",style:{left:r*$data.deviceIndependentPixelWidth/750,top:(t-$data.screenFitOffsetTop)*$data.deviceIndependentPixelHeight/(1624-$data.screenFitOffsetTop-$data.screenFitOffsetBottom),width:a*$data.deviceIndependentPixelWidth/750,height:n*$data.deviceIndependentPixelHeight/(1624-$data.screenFitOffsetTop-$data.screenFitOffsetBottom)}}))},e.showGameClubButton=function(){var r="showGameClubButton";e.gameClubButton&&(Log("Wechat",r),e.gameClubButton.show())},e.hideGameClubButton=function(){var r="hideGameClubButton";e.gameClubButton&&(Log("Wechat",r),e.gameClubButton.hide())},e.destroyGameClubButton=function(){var r="destroyGameClubButton";e.gameClubButton&&(Log("Wechat",r),e.gameClubButton.destroy())},e.navigateToMiniProgram=function(e){var r="navigateToMiniProgram";window.wx&&(Log("Wechat",r,e||""),window.wx.navigateToMiniProgram({appId:"wx66617c57c0b70ce0",path:"pages/home/home",extraData:{appid:e}}))},e.createInnerAudioContext=function(){return window.wx?window.wx.createInnerAudioContext():void 0},e.onAudioInterruptionBegin=function(e){window.wx&&window.wx.onAudioInterruptionBegin(e)},e.offAudioInterruptionBegin=function(e){window.wx&&window.wx.offAudioInterruptionBegin(e)},e.onAudioInterruptionEnd=function(e){window.wx&&window.wx.onAudioInterruptionEnd(e)},e.offAudioInterruptionEnd=function(e){window.wx&&window.wx.offAudioInterruptionEnd(e)},e.$onShowContext={},e.$onHideContext={},e.$onLaunchContext={},e}();__reflect(Wechat.prototype,"Wechat"),window.wx?(window.wx.onShow(function(e){var r=Object.keys(Wechat.$onShowContext);Log("Wechat","On Show -",r,e),r.forEach(function(r){return Wechat.$onShowContext[r](e)})}),window.wx.onHide(function(e){var r=Object.keys(Wechat.$onHideContext);Log("Wechat","On Hide -",r,e),r.forEach(function(r){return Wechat.$onHideContext[r](e)})})):Warn("当前环境中未找到微信 API。");var OrchidButton=function(e){function r(){function r(){AsyncAudioManager.playMultipleSound("button_mp3")}var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,function(){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,Anime.buttonShrink,t),t.addEventListener(egret.TouchEvent.TOUCH_END,Anime.buttonOrigin,t),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,Anime.buttonOrigin,t),t.addEventListener(egret.TouchEvent.TOUCH_CANCEL,Anime.buttonOrigin,t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,r,null),t.once(egret.TouchEvent.TOUCH_TAP,t.hideRedDot,t)},t),t.once(egret.Event.REMOVED_FROM_STAGE,function(){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,Anime.buttonShrink,t),t.removeEventListener(egret.TouchEvent.TOUCH_END,Anime.buttonOrigin,t),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,Anime.buttonOrigin,t),t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,Anime.buttonOrigin,t),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,r,null)},t),t}return __extends(r,e),r.prototype.hideRedDot=function(){this.redDot&&(this.redDot.visible=!1)},r.prototype.showRedDot=function(){this.redDot?this.redDot.visible=!0:(this.redDot=new egret.Shape,this.redDot.graphics.beginFill(16724787),this.redDot.graphics.drawCircle(this.width-17,15,10),this.redDot.graphics.endFill(),this.addChild(this.redDot))},r}(eui.Button);__reflect(OrchidButton.prototype,"OrchidButton"),window.OrchidButton=OrchidButton;var OrchidComponent=function(e){function r(){var r=e.call(this)||this;return API.fitScreen(r,"absolute"),r.timer={},r.once(egret.Event.ADDED_TO_STAGE,function(){Anime.fadeIn.call(r,300)},r),r.once(egret.Event.REMOVED_FROM_STAGE,function(){Object.keys(r.timer).forEach(function(e){clearTimeout(r.timer[e]),clearInterval(r.timer[e])
})},r),r}return __extends(r,e),r}(eui.Component);__reflect(OrchidComponent.prototype,"OrchidComponent"),window.OrchidComponent=OrchidComponent;var OrchidLabel=function(e){function r(){var r=e.call(this)||this;return r.touchEnabled=!1,r}return __extends(r,e),r}(eui.Label);__reflect(OrchidLabel.prototype,"OrchidLabel"),window.OrchidLabel=OrchidLabel;var $main,$stage,Main=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),r.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.registerImplementation("eui.IAssetAdapter",new AssetAdapter),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),$main=this,$stage=new eui.Component,this.addChild($stage),Warn("Orchid version: "+$data.orchidVersion),API.initLocalData(),API.setFitScreenValue(),API.mapLanguage($data.language),API.registerAudioListener(),$create("Loading"),this.stage.maxTouches=1},r}(eui.UILayer);__reflect(Main.prototype,"Main"),window.$main=$main,window.$stage=$stage;var Big=function(){function e(r){return void 0===this?new e(r):(r instanceof e?(this.s=r.s,this.e=r.e,this.c=r.c.slice()):(this.s=1,this.e=0,this.c=[],e.parse(this,r)),this)}return e.parse=function(r,t){var a,n,i;if(0===t&&0>1/t)t="-0";else if(!e.NUMERIC.test(t+=""))throw Error(e.INVALID+"number");for(r.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(a=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(0>a&&(a=n),a+=+t.slice(n+1),t=t.substring(0,n)):0>a&&(a=t.length),i=t.length,n=0;i>n&&"0"==t.charAt(n);)++n;if(n==i)r.c=[r.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(r.e=a-n-1,r.c=[],a=0;i>=n;)r.c[a++]=+t.charAt(n++)}return r},e.round=function(r,t,a,n){var i=r.c,o=r.e+t+1;if(o<i.length){if(1===a)n=i[o]>=5;else if(2===a)n=i[o]>5||5==i[o]&&(n||0>o||i[o+1]!==e.UNDEFINED||1&i[o-1]);else if(3===a)n=n||!!i[0];else if(n=!1,0!==a)throw Error(e.INVALID_RM);if(1>o)i.length=1,n?(r.e=-t,i[0]=1):i[0]=r.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++r.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(0>a||a>3||a!==~~a)throw Error(e.INVALID_RM);return r},e.stringify=function(e,r,t,a){var n,i,o=e.constructor,s=!e.c[0];if(t!==o.UNDEFINED){if(t!==~~t||(3==r)>t||t>o.MAX_DP)throw Error(3==r?o.INVALID+"precision":o.INVALID_DP);for(e=new o(e),t=a-e.e,e.c.length>++a&&o.round(e,t,o.RM),2==r&&(a=e.e+t+1);e.c.length<a;)e.c.push(0)}if(n=e.e,i=e.c.join(""),t=i.length,2!=r&&(1==r||3==r&&n>=a||n<=o.NE||n>=o.PE))i=i.charAt(0)+(t>1?"."+i.slice(1):"")+(0>n?"e":"e+")+n;else if(0>n){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>t)for(n-=t;n--;)i+="0";else t>n&&(i=i.slice(0,n)+"."+i.slice(n));else t>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&(!s||4==r)?"-"+i:i},e.prototype.abs=function(){var r=new e(this);return r.s=1,r},e.prototype.cmp=function(r){var t,a=this,n=a.c,i=(r=new e(r)).c,o=a.s,s=r.s,d=a.e,c=r.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=0>o,d!=c)return d>(c^t)?1:-1;for(s=(d=n.length)<(c=i.length)?d:c,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>(i[o]^t)?1:-1;return d==c?0:d>(c^t)?1:-1},e.prototype.div=function(r){var t=this,a=t.c,n=(r=new e(r)).c,i=t.s==r.s?1:-1,o=e.DP;if(o!==~~o||0>o||o>e.MAX_DP)throw Error(e.INVALID_DP);if(!n[0])throw Error(e.DIV_BY_ZERO);if(!a[0])return new e(0*i);var s,d,c,u,h,l=n.slice(),g=s=n.length,p=a.length,f=a.slice(0,s),y=f.length,w=r,m=w.c=[],A=0,v=o+(w.e=t.e-r.e)+1;for(w.s=i,i=0>v?0:v,l.unshift(0);y++<s;)f.push(0);do{for(c=0;10>c;c++){if(s!=(y=f.length))u=s>y?1:-1;else for(h=-1,u=0;++h<s;)if(n[h]!=f[h]){u=n[h]>f[h]?1:-1;break}if(!(0>u))break;for(d=y==s?n:l;y;){if(f[--y]<d[y]){for(h=y;h&&!f[--h];)f[h]=9;--f[h],f[y]+=10}f[y]-=d[y]}for(;!f[0];)f.shift()}m[A++]=u?c:++c,f[0]&&u?f[y]=a[g]||0:f=[a[g]]}while((g++<p||f[0]!==e.UNDEFINED)&&i--);return m[0]||1==A||(m.shift(),w.e--),A>v&&e.round(w,o,e.RM,f[0]!==e.UNDEFINED),w},e.prototype.eq=function(e){return!this.cmp(e)},e.prototype.gt=function(e){return this.cmp(e)>0},e.prototype.gte=function(e){return this.cmp(e)>-1},e.prototype.lt=function(e){return this.cmp(e)<0},e.prototype.lte=function(e){return this.cmp(e)<1},e.prototype.minus=function(r){var t,a,n,i,o=this,s=o.s,d=(r=new e(r)).s;if(s!=d)return r.s=-d,o.plus(r);var c=o.c.slice(),u=o.e,h=r.c,l=r.e;if(!c[0]||!h[0])return h[0]?(r.s=-d,r):new e(c[0]?o:0);if(s=u-l){for((i=0>s)?(s=-s,n=c):(l=u,n=h),n.reverse(),d=s;d--;)n.push(0);n.reverse()}else for(a=((i=c.length<h.length)?c:h).length,s=d=0;a>d;d++)if(c[d]!=h[d]){i=c[d]<h[d];break}if(i&&(n=c,c=h,h=n,r.s=-r.s),(d=(a=h.length)-(t=c.length))>0)for(;d--;)c[t++]=0;for(d=t;a>s;){if(c[--a]<h[a]){for(t=a;t&&!c[--t];)c[t]=9;--c[t],c[a]+=10}c[a]-=h[a]}for(;0===c[--d];)c.pop();for(;0===c[0];)c.shift(),--l;return c[0]||(r.s=1,c=[l=0]),r.c=c,r.e=l,r},e.prototype.sub=function(e){return this.minus(e)},e.prototype.mod=function(r){var t,a=this,n=a.s,i=(r=new e(r)).s;if(!r.c[0])throw Error(e.DIV_BY_ZERO);return a.s=r.s=1,t=1==r.cmp(a),a.s=n,r.s=i,t?new e(a):(n=e.DP,i=e.RM,e.DP=e.RM=0,a=a.div(r),e.DP=n,e.RM=i,this.minus(a.times(r)))},e.prototype.plus=function(r){var t,a=this,n=a.s,i=(r=new e(r)).s;if(n!=i)return r.s=-i,a.minus(r);var o=a.e,s=a.c,d=r.e,c=r.c;if(!s[0]||!c[0])return c[0]?r:new e(s[0]?a:0*n);if(s=s.slice(),n=o-d){for(n>0?(d=o,t=c):(n=-n,t=s),t.reverse();n--;)t.push(0);t.reverse()}for(s.length-c.length<0&&(t=c,c=s,s=t),n=c.length,i=0;n;s[n]%=10)i=(s[--n]=s[n]+c[n]+i)/10|0;for(i&&(s.unshift(i),++d),n=s.length;0===s[--n];)s.pop();return r.c=s,r.e=d,r},e.prototype.add=function(e){return this.plus(e)},e.prototype.pow=function(r){var t=this,a=new e(1),n=a,i=0>r;if(r!==~~r||r<-e.MAX_POWER||r>e.MAX_POWER)throw Error(e.INVALID+"exponent");for(i&&(r=-r);1&r&&(n=n.times(t)),r>>=1,r;)t=t.times(t);return i?a.div(n):n},e.prototype.round=function(r,t){if(r===e.UNDEFINED)r=0;else if(r!==~~r||r<-e.MAX_DP||r>e.MAX_DP)throw Error(e.INVALID_DP);return e.round(new e(this),r,t===e.UNDEFINED?e.RM:t)},e.prototype.sqrt=function(){var r,t,a,n=this,i=n.s,o=n.e,s=new e(.5);if(!n.c[0])return new e(n);if(0>i)throw Error(e.NAME+"No square root");i=Math.sqrt(Number(n+"")),0===i||i===1/0?(t=n.c.join(""),t.length+o&1||(t+="0"),i=Math.sqrt(t),o=((o+1)/2|0)-(Number(0>o)||1&o),r=new e((i==1/0?"1e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):r=new e(i),o=r.e+(e.DP+=4);do a=r,r=s.times(a.plus(n.div(a)));while(a.c.slice(0,o).join("")!==r.c.slice(0,o).join(""));return e.round(r,e.DP-=4,e.RM)},e.prototype.times=function(r){var t,a=this,n=a.c,i=(r=new e(r)).c,o=n.length,s=i.length,d=a.e,c=r.e;if(r.s=a.s==r.s?1:-1,!n[0]||!i[0])return new e(0*r.s);for(r.e=d+c,s>o&&(t=n,n=i,i=t,c=o,o=s,s=c),t=new Array(c=o+s);c--;)t[c]=0;for(d=s;d--;){for(s=0,c=o+d;c>d;)s=t[c]+i[d]*n[c-d-1]+s,t[c--]=s%10,s=s/10|0;t[c]=(t[c]+s)%10}for(s?++r.e:t.shift(),d=t.length;!t[--d];)t.pop();return r.c=t,r},e.prototype.mul=function(e){return this.times(e)},e.prototype.toExponential=function(r){return e.stringify(this,1,r,r)},e.prototype.toFixed=function(r){return e.stringify(this,2,r,this.e+r)},e.prototype.toPrecision=function(r){return e.stringify(this,3,r,r-1)},e.prototype.toString=function(){return e.stringify(this)},e.prototype.valueOf=function(){return e.stringify(this,4)},e.prototype.toJSON=function(){return e.stringify(this,4)},e.prototype.toChineseString=function(){var r=e.stringify(this,4),t="-"===r[0]?(r=r.slice(1),"-"):"";r=-1===r.indexOf(".")?r:r.slice(0,r.indexOf("."));var a=["","万","亿","万亿","亿亿","万亿亿","亿亿亿","万亿亿亿","亿亿亿亿","万亿亿亿亿","亿亿亿亿亿","万亿亿亿亿亿","亿亿亿亿亿亿","万亿亿亿亿亿亿","亿亿亿亿亿亿亿"];if(r.length>4){var n=r.length;n%4===3?r=parseInt(r.substr(0,3))+a[Math.round(n/4)-1]:n%4===2?(r=(parseInt(r.substr(0,4))/100).toFixed(2),"0"===r[r.length-1]&&(r=r.substr(0,r.length-1)),"0"===r[r.length-1]&&(r=r.substr(0,r.length-2)),r+=a[Math.floor(n/4)]):n%4===1?(r=(parseInt(r.substr(0,3))/100).toFixed(2),"0"===r[r.length-1]&&(r=r.substr(0,r.length-1)),"0"===r[r.length-1]&&(r=r.substr(0,r.length-2)),r+=a[Math.round(n/4)]):r=r.substr(0,4)+a[Math.round(n/4)-1]}return t+r},e.prototype.toUnitString=function(){var r=e.stringify(this,4),t="-"===r[0]?(r=r.slice(1),"-"):"";r=-1===r.indexOf(".")?r:r.slice(0,r.indexOf("."));var a=["","K","M","B","T","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ab","ac"];return r.length%3===2&&r.length>3?r=(parseInt(r.substr(0,3))/10).toFixed(1)+a[Math.round(r.length/3)-1]:r.length%3===1&&r.length>3?r=(parseInt(r.substr(0,3))/100).toFixed(2)+a[Math.round(r.length/3)]:r.length>3&&(r=r.substr(0,3)+a[Math.round(r.length/3)-1]),t+r},e.prototype.toLongUnitString=function(){var r=e.stringify(this,4),t="-"===r[0]?(r=r.slice(1),"-"):"";r=-1===r.indexOf(".")?r:r.slice(0,r.indexOf("."));var a=["","K","M","B","T","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ab","ac"];r.length%3===2&&r.length>9?r=parseInt(r.substr(0,5))+a[Math.round(r.length/3)-2]:r.length%3===1&&r.length>9?r=parseInt(r.substr(0,4))+a[Math.round(r.length/3)-1]:r.length>9&&(r=r.substr(0,6)+a[Math.round(r.length/3)-2]);var n=r.match(/\d+/)[0].split("").reverse().join("").replace(/(\d{3})/g,"$&,").split("").reverse().join("").replace(/^\,/,""),i=r.match(/\D/)?r.match(/\D/)[0]:"";return t+n+i},e.NAME="[big.js] ",e.INVALID=e.NAME+"Invalid ",e.INVALID_DP=e.INVALID+"decimal places",e.INVALID_RM=e.INVALID+"rounding mode",e.DIV_BY_ZERO=e.NAME+"Division by zero",e.UNDEFINED=void 0,e.NUMERIC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,e.P={},e.DP=20,e.RM=1,e.MAX_DP=1e6,e.MAX_POWER=1e6,e.NE=-1e6,e.PE=1e6,e}();__reflect(Big.prototype,"Big"),window.Big=Big;